{"version":3,"file":"static/js/898.61c3b65b.chunk.js","mappings":"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","sources":["Component/dashboard/Sidebar.jsx","Component/dashboard/MarketGuides.jsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { NavLink, useNavigate } from 'react-router-dom';\r\nimport logo3 from \"../../assets/image/logo3.png\";\r\nimport \"../../assets/styles/Sidebar.scss\";\r\nimport { FaBars, FaTimes } from 'react-icons/fa';\r\n\r\nconst Sidebar = ({ onLogout }) => {\r\n  const [isMobileNavOpen, setIsMobileNavOpen] = useState(false);\r\n  const navigate = useNavigate();\r\n\r\n  // Fixed logout handler\r\n  const handleSignOut = () => {\r\n    if (typeof onLogout === 'function') {\r\n      onLogout(); // This will trigger App.jsx to clear auth and redirect to login\r\n    } else {\r\n      console.error(\"Sidebar: onLogout prop is missing or not a function!\");\r\n      // Fallback - clear localStorage and force reload\r\n      localStorage.removeItem(\"authToken\");\r\n      localStorage.removeItem(\"userRole\");\r\n      localStorage.removeItem(\"userData\");\r\n      window.location.href = '/login';\r\n    }\r\n  };\r\n\r\n  // Handle payment navigation with manual payment option\r\n  const handlePaymentNavigation = (e) => {\r\n    e.preventDefault(); // Prevent default NavLink behavior\r\n    closeMobileNav();\r\n    \r\n    // Navigate to payment with a flag indicating it's a manual payment\r\n    navigate('/dashboard/payment', { \r\n      state: { \r\n        isManualPayment: true,\r\n        purchaseDetails: null // No specific purchase details for manual payment\r\n      } \r\n    });\r\n  };\r\n\r\n  const toggleMobileNav = () => {\r\n    setIsMobileNavOpen(!isMobileNavOpen);\r\n  };\r\n\r\n  const closeMobileNav = () => {\r\n    if (isMobileNavOpen) {\r\n      setIsMobileNavOpen(false);\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    if (isMobileNavOpen) {\r\n      const closeNav = () => setIsMobileNavOpen(false);\r\n      window.addEventListener('popstate', closeNav);\r\n      return () => {\r\n        window.removeEventListener('popstate', closeNav);\r\n      };\r\n    }\r\n  }, [isMobileNavOpen]);\r\n\r\n  return (\r\n    <div className={`dashboard-container-wrapper ${isMobileNavOpen ? 'mobile-sidebar-open' : ''}`}>\r\n      <button\r\n        className=\"dashboard__sidebar-toggle\"\r\n        onClick={toggleMobileNav}\r\n        aria-label=\"Toggle navigation\"\r\n        aria-expanded={isMobileNavOpen}\r\n      >\r\n        {isMobileNavOpen ? <FaTimes /> : <FaBars />}\r\n      </button>\r\n\r\n      <aside className={`dashboard__sidebar ${isMobileNavOpen ? 'is-open' : ''}`}>\r\n        <div className=\"dashboard__sidebar-logo\">\r\n          <img src={logo3} alt=\"logo\" height=\"50px\" width=\"50px\" />\r\n          <h2 className=\"dashboard__sidebar-title\">Dashboard</h2>\r\n        </div>\r\n        <ul className=\"dashboard__sidebar-menu\">\r\n          <li className=\"dashboard__sidebar-menu-item\">\r\n            <NavLink \r\n              to=\"/dashboard\" \r\n              end \r\n              onClick={closeMobileNav} \r\n              className={({ isActive }) => isActive ? \"dashboard__sidebar-menu-item--active\" : \"\"}\r\n            >\r\n              Dashboard\r\n            </NavLink>\r\n          </li>\r\n          <li className=\"dashboard__sidebar-menu-item\">\r\n            <NavLink \r\n              to=\"/dashboard/investmenttools\" \r\n              onClick={closeMobileNav} \r\n              className={({ isActive }) => isActive ? \"dashboard__sidebar-menu-item--active\" : \"\"}\r\n            >\r\n              Investment Tool\r\n            </NavLink>\r\n          </li>\r\n          <li className=\"dashboard__sidebar-menu-item\">\r\n            <NavLink \r\n              to=\"/dashboard/marketguides\" \r\n              onClick={closeMobileNav} \r\n              className={({ isActive }) => isActive ? \"dashboard__sidebar-menu-item--active\" : \"\"}\r\n            >\r\n              Market Guides\r\n            </NavLink>\r\n          </li>\r\n          <li className=\"dashboard__sidebar-menu-item\">\r\n            <NavLink \r\n              to=\"/dashboard/profile\" \r\n              onClick={closeMobileNav} \r\n              className={({ isActive }) => isActive ? \"dashboard__sidebar-menu-item--active\" : \"\"}\r\n            >\r\n              Profile\r\n            </NavLink>\r\n          </li>\r\n          <li className=\"dashboard__sidebar-menu-item\">\r\n            {/* Modified Payment Link */}\r\n            <a \r\n              href=\"#\"\r\n              onClick={handlePaymentNavigation}\r\n              className=\"dashboard__sidebar-menu-link\"\r\n            >\r\n              Payment\r\n            </a>\r\n          </li>\r\n          <li className=\"dashboard__sidebar-menu-item\">\r\n            <NavLink \r\n              to=\"/dashboard/withdrawal\" \r\n              onClick={closeMobileNav} \r\n              className={({ isActive }) => isActive ? \"dashboard__sidebar-menu-item--active\" : \"\"}\r\n            >\r\n              Withdrawal\r\n            </NavLink>\r\n          </li>\r\n          <li \r\n            className=\"dashboard__sidebar-signout\" \r\n            onClick={() => { \r\n              handleSignOut(); \r\n              closeMobileNav(); \r\n            }} \r\n            style={{ cursor: 'pointer' }}\r\n          >\r\n            Sign Out\r\n          </li>\r\n        </ul>\r\n      </aside>\r\n      {isMobileNavOpen && <div className=\"dashboard__sidebar-overlay\" onClick={toggleMobileNav}></div>}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Sidebar;","import React, { useState, useEffect, useCallback } from \"react\";\r\nimport { NavLink, Link } from \"react-router-dom\"; \r\nimport Sidebar from \"../dashboard/Sidebar\";\r\nimport \"./Style/MarketGuides.scss\" // Adjust the path as necessary\r\nimport axios from \"axios\";\r\n\r\nconst truncateContent = (htmlContent, maxLength) => {\r\n  if (!htmlContent) return '';\r\n  // Strip HTML tags for a cleaner excerpt\r\n  const textContent = new DOMParser().parseFromString(htmlContent, 'text/html').body.textContent || \"\";\r\n  if (textContent.length <= maxLength) return textContent;\r\n  // Find the last space within the maxLength\r\n  const trimmedString = textContent.substr(0, maxLength);\r\n  return trimmedString.substr(0, Math.min(trimmedString.length, trimmedString.lastIndexOf(\" \"))) + \"...\";\r\n};\r\n\r\nconst MarketGuides = () => {\r\n  const [blogs, setBlogs] = useState([]);\r\n  const [loading, setLoading] = useState(true);\r\n  const [error, setError] = useState(null);\r\n\r\n  const baseUrl = process.env.REACT_APP_API_BASE_URL; // Your API base URL\r\n\r\n  const fetchPublicBlogs = useCallback(async () => {\r\n    setLoading(true);\r\n    setError(null);\r\n    try {\r\n      // Public endpoint, no token needed generally\r\n      const response = await axios.get(`${baseUrl}/api/blogs`);\r\n      setBlogs(response.data);\r\n    } catch (err) {\r\n      console.error(\"Error fetching public blog data:\", err);\r\n      setError(\r\n        \"Failed to load articles. \" + (err.response?.data?.message || err.message)\r\n      );\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  }, [baseUrl]);\r\n\r\n  useEffect(() => {\r\n    fetchPublicBlogs();\r\n  }, [fetchPublicBlogs]);\r\n\r\n  return (\r\n    <div className=\"dashboard-marketguides\">\r\n      <Sidebar />\r\n      <div className=\"main-content-MarketGuides\">\r\n        <div>\r\n          \r\n        </div>\r\n        <main className=\"main-content-blog\">\r\n          <section className=\"blog-section\">\r\n            <h1 className=\"main-heading-blog\">Blog & Insights</h1>\r\n            <p className=\"intro-text\">\r\n              Stay updated with expert market analysis, investment strategies,\r\n              and financial insights.\r\n            </p>\r\n            <div className=\"hero-blog\">\r\n              <h3>Latest Articles:</h3>\r\n              {loading && <p className=\"loading-text\">Loading articles...</p>}\r\n              {error && <p className=\"error-text\">{error}</p>}\r\n              {!loading && !error && blogs.length === 0 && (\r\n                <p className=\"no-articles-text\">No articles found at the moment. Check back soon!</p>\r\n              )}\r\n              {!loading && !error && blogs.length > 0 && (\r\n                <div className=\"blog-grid\">\r\n                  {blogs.map((blog) => (\r\n                    <div className=\"blog-card\" key={blog.id || blog._id}>\r\n                      {blog.imageUrl && (\r\n                        <Link to={`/blog/${blog.id || blog._id}`} className=\"blog-card-image-link\">\r\n                          <img\r\n                            src={blog.imageUrl}\r\n                            alt={blog.title}\r\n                            className=\"blog-card-image\"\r\n                          />\r\n                        </Link>\r\n                      )}\r\n                      <div className=\"blog-card-content\">\r\n                        <h4 className=\"blog-card-title\">\r\n                          <Link to={`/blog/${blog.id || blog._id}`}>\r\n                            {blog.title}\r\n                          </Link>\r\n                        </h4>\r\n                        <p className=\"blog-card-author-date\">\r\n                          By {blog.author || \"TheCapitalTree Team\"} \r\n                          {blog.createdAt && ` on ${new Date(blog.createdAt).toLocaleDateString()}`}\r\n                        </p>\r\n                        <p className=\"blog-card-excerpt\">\r\n                          {truncateContent(blog.content, 120)}\r\n                        </p>\r\n                        <div className=\"blog-card-meta\">\r\n                          {typeof blog.views !== 'undefined' && <span>{blog.views} Views</span>}\r\n                          {typeof blog.likes !== 'undefined' && <span>{blog.likes} Likes</span>}\r\n                        </div>\r\n                        <Link\r\n                          to={`/blog/${blog.id || blog._id}`}\r\n                          className=\"read-more-link\"\r\n                        >\r\n                          Read More →\r\n                        </Link>\r\n                      </div>\r\n                    </div>\r\n                  ))}\r\n                </div>\r\n              )}\r\n              <p className=\"footer-note\">\r\n                📌 Explore more and take control of your financial future.\r\n              </p>\r\n            </div>\r\n          </section>\r\n        </main>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default MarketGuides;\r\n"],"names":["_ref","onLogout","isMobileNavOpen","setIsMobileNavOpen","useState","navigate","useNavigate","toggleMobileNav","closeMobileNav","useEffect","closeNav","window","addEventListener","removeEventListener","_jsxs","className","children","_jsx","onClick","FaTimes","FaBars","src","logo3","alt","height","width","NavLink","to","end","_ref2","isActive","_ref3","_ref4","_ref5","href","e","preventDefault","state","isManualPayment","purchaseDetails","_ref6","console","error","localStorage","removeItem","location","style","cursor","truncateContent","htmlContent","maxLength","textContent","DOMParser","parseFromString","body","length","trimmedString","substr","Math","min","lastIndexOf","MarketGuides","blogs","setBlogs","loading","setLoading","setError","baseUrl","process","fetchPublicBlogs","useCallback","async","response","axios","get","data","err","_err$response","_err$response$data","message","Sidebar","map","blog","imageUrl","Link","id","_id","title","author","createdAt","Date","toLocaleDateString","content","views","likes"],"sourceRoot":""}