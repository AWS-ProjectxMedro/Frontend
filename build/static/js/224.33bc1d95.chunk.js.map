{"version":3,"file":"static/js/224.33bc1d95.chunk.js","mappings":"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","sources":["Component/dashboard/Sidebar.jsx","Component/dashboard/hooks/useFetchData.js","Component/dashboard/hooks/useChartZoom.js","Component/dashboard/shared/DataCard.jsx","Component/dashboard/shared/DataTable.jsx","Component/dashboard/shared/LoadingSpinner.jsx","Component/dashboard/shared/ErrorMessage.jsx","Component/dashboard/shared/InputForm.jsx","Component/dashboard/shared/ChartDisplay.jsx","Component/dashboard/shared/ChartControls.jsx","Component/dashboard/shared/BuyStockModal.jsx","Component/dashboard/InvestmentTools.jsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { NavLink, useNavigate } from 'react-router-dom';\r\nimport logo3 from \"../../assets/image/logo3.png\";\r\nimport \"../../assets/styles/Sidebar.scss\";\r\nimport { FaBars, FaTimes } from 'react-icons/fa';\r\n\r\nconst Sidebar = ({ onLogout }) => {\r\n  const [isMobileNavOpen, setIsMobileNavOpen] = useState(false);\r\n  const navigate = useNavigate();\r\n\r\n  // Fixed logout handler\r\n  const handleSignOut = () => {\r\n    if (typeof onLogout === 'function') {\r\n      onLogout(); // This will trigger App.jsx to clear auth and redirect to login\r\n    } else {\r\n      console.error(\"Sidebar: onLogout prop is missing or not a function!\");\r\n      // Fallback - clear localStorage and force reload\r\n      localStorage.removeItem(\"authToken\");\r\n      localStorage.removeItem(\"userRole\");\r\n      localStorage.removeItem(\"userData\");\r\n      window.location.href = '/login';\r\n    }\r\n  };\r\n\r\n  // Handle payment navigation with manual payment option\r\n  const handlePaymentNavigation = (e) => {\r\n    e.preventDefault(); // Prevent default NavLink behavior\r\n    closeMobileNav();\r\n    \r\n    // Navigate to payment with a flag indicating it's a manual payment\r\n    navigate('/dashboard/payment', { \r\n      state: { \r\n        isManualPayment: true,\r\n        purchaseDetails: null // No specific purchase details for manual payment\r\n      } \r\n    });\r\n  };\r\n\r\n  const toggleMobileNav = () => {\r\n    setIsMobileNavOpen(!isMobileNavOpen);\r\n  };\r\n\r\n  const closeMobileNav = () => {\r\n    if (isMobileNavOpen) {\r\n      setIsMobileNavOpen(false);\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    if (isMobileNavOpen) {\r\n      const closeNav = () => setIsMobileNavOpen(false);\r\n      window.addEventListener('popstate', closeNav);\r\n      return () => {\r\n        window.removeEventListener('popstate', closeNav);\r\n      };\r\n    }\r\n  }, [isMobileNavOpen]);\r\n\r\n  return (\r\n    <div className={`dashboard-container-wrapper ${isMobileNavOpen ? 'mobile-sidebar-open' : ''}`}>\r\n      <button\r\n        className=\"dashboard__sidebar-toggle\"\r\n        onClick={toggleMobileNav}\r\n        aria-label=\"Toggle navigation\"\r\n        aria-expanded={isMobileNavOpen}\r\n      >\r\n        {isMobileNavOpen ? <FaTimes /> : <FaBars />}\r\n      </button>\r\n\r\n      <aside className={`dashboard__sidebar ${isMobileNavOpen ? 'is-open' : ''}`}>\r\n        <div className=\"dashboard__sidebar-logo\">\r\n          <img src={logo3} alt=\"logo\" height=\"50px\" width=\"50px\" />\r\n          <h2 className=\"dashboard__sidebar-title\">Dashboard</h2>\r\n        </div>\r\n        <ul className=\"dashboard__sidebar-menu\">\r\n          <li className=\"dashboard__sidebar-menu-item\">\r\n            <NavLink \r\n              to=\"/dashboard\" \r\n              end \r\n              onClick={closeMobileNav} \r\n              className={({ isActive }) => isActive ? \"dashboard__sidebar-menu-item--active\" : \"\"}\r\n            >\r\n              Dashboard\r\n            </NavLink>\r\n          </li>\r\n          <li className=\"dashboard__sidebar-menu-item\">\r\n            <NavLink \r\n              to=\"/dashboard/investmenttools\" \r\n              onClick={closeMobileNav} \r\n              className={({ isActive }) => isActive ? \"dashboard__sidebar-menu-item--active\" : \"\"}\r\n            >\r\n              Investment Tool\r\n            </NavLink>\r\n          </li>\r\n          <li className=\"dashboard__sidebar-menu-item\">\r\n            <NavLink \r\n              to=\"/dashboard/marketguides\" \r\n              onClick={closeMobileNav} \r\n              className={({ isActive }) => isActive ? \"dashboard__sidebar-menu-item--active\" : \"\"}\r\n            >\r\n              Market Guides\r\n            </NavLink>\r\n          </li>\r\n          <li className=\"dashboard__sidebar-menu-item\">\r\n            <NavLink \r\n              to=\"/dashboard/profile\" \r\n              onClick={closeMobileNav} \r\n              className={({ isActive }) => isActive ? \"dashboard__sidebar-menu-item--active\" : \"\"}\r\n            >\r\n              Profile\r\n            </NavLink>\r\n          </li>\r\n          <li className=\"dashboard__sidebar-menu-item\">\r\n            {/* Modified Payment Link */}\r\n            <a \r\n              href=\"#\"\r\n              onClick={handlePaymentNavigation}\r\n              className=\"dashboard__sidebar-menu-link\"\r\n            >\r\n              Payment\r\n            </a>\r\n          </li>\r\n          <li className=\"dashboard__sidebar-menu-item\">\r\n            <NavLink \r\n              to=\"/dashboard/withdrawal\" \r\n              onClick={closeMobileNav} \r\n              className={({ isActive }) => isActive ? \"dashboard__sidebar-menu-item--active\" : \"\"}\r\n            >\r\n              Withdrawal\r\n            </NavLink>\r\n          </li>\r\n          <li \r\n            className=\"dashboard__sidebar-signout\" \r\n            onClick={() => { \r\n              handleSignOut(); \r\n              closeMobileNav(); \r\n            }} \r\n            style={{ cursor: 'pointer' }}\r\n          >\r\n            Sign Out\r\n          </li>\r\n        </ul>\r\n      </aside>\r\n      {isMobileNavOpen && <div className=\"dashboard__sidebar-overlay\" onClick={toggleMobileNav}></div>}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Sidebar;","import { useState, useCallback } from 'react';\r\nimport axios from 'axios'; // Import axios\r\n\r\nconst useFetchData = (authToken) => {\r\n  const [data, setData] = useState(null);\r\n  const [loading, setLoading] = useState(false);\r\n  const [error, setError] = useState(null);\r\n\r\n  const makeRequest = useCallback(async (url, config = {}) => { // config is axios config object\r\n    setLoading(true);\r\n    setError(null);\r\n    setData(null);\r\n\r\n    console.log('[useFetchData - Axios] Attempting to fetch from URL:', url);\r\n    console.log('[useFetchData - Axios] Auth token present:', !!authToken);\r\n\r\n    const headers = {\r\n      'Accept': 'application/json',\r\n      ...config.headers, // Allow overriding/adding headers from caller\r\n    };\r\n\r\n    if (authToken) {\r\n      headers['Authorization'] = `Bearer ${authToken}`;\r\n    }\r\n\r\n    try {\r\n      const response = await axios({\r\n        url: url,\r\n        method: config.method || 'GET', // Default to GET\r\n        headers: headers,\r\n        data: config.data, // For POST, PUT, PATCH requests\r\n        params: config.params, // For URL query parameters\r\n        ...config, // Spread other axios config options\r\n      });\r\n\r\n      console.log('[useFetchData - Axios] Response Status:', response.status);\r\n      console.log('[useFetchData - Axios] Response Content-Type:', response.headers['content-type']);\r\n      \r\n      // Axios throws an error for non-2xx status codes by default,\r\n      // so we typically expect to be in the .then() block for successful responses.\r\n      // The .catch() block will handle HTTP errors.\r\n\r\n      setData(response.data); // Axios automatically parses JSON response\r\n      console.log('[useFetchData - Axios] Successfully received and parsed response.');\r\n\r\n    } catch (err) {\r\n      console.error('[useFetchData - Axios] Error during request:', err);\r\n      if (err.response) {\r\n        // The request was made and the server responded with a status code\r\n        // that falls out of the range of 2xx\r\n        console.error('[useFetchData - Axios] Server Error Data:', err.response.data);\r\n        console.error('[useFetchData - Axios] Server Error Status:', err.response.status);\r\n        console.error('[useFetchData - Axios] Server Error Headers:', err.response.headers);\r\n        \r\n        let errorMessage = `Request failed with status ${err.response.status}.`;\r\n        if (err.response.data) {\r\n          if (typeof err.response.data === 'string' && err.response.data.toLowerCase().includes('<!doctype html>')) {\r\n            errorMessage += ` Server returned an HTML page (e.g., \"Cannot GET ${err.config.url.replace(err.config.baseURL || '', '')}\"). Check backend routing.`;\r\n            // You can try to extract the <pre> content if it's always the same structure\r\n            const preMatch = err.response.data.match(/<pre>([\\s\\S]*?)<\\/pre>/i);\r\n            if (preMatch && preMatch[1]) {\r\n                errorMessage += ` Specific error: ${preMatch[1]}`;\r\n            }\r\n\r\n          } else if (err.response.data.message) {\r\n            errorMessage += ` Message: ${err.response.data.message}`;\r\n          } else if (err.response.data.error) {\r\n            errorMessage += ` Error: ${err.response.data.error}`;\r\n          } else if (typeof err.response.data === 'object') {\r\n            errorMessage += ` Details: ${JSON.stringify(err.response.data)}`;\r\n          }\r\n        }\r\n        setError(errorMessage);\r\n\r\n      } else if (err.request) {\r\n        // The request was made but no response was received\r\n        // `error.request` is an instance of XMLHttpRequest in the browser\r\n        console.error('[useFetchData - Axios] No response received:', err.request);\r\n        setError('No response received from server. Check network or server status.');\r\n      } else {\r\n        // Something happened in setting up the request that triggered an Error\r\n        console.error('[useFetchData - Axios] Error setting up request:', err.message);\r\n        setError(`Error setting up request: ${err.message}`);\r\n      }\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  }, [authToken]);\r\n\r\n  const clear = () => {\r\n    setData(null);\r\n    setError(null);\r\n  };\r\n\r\n  return { data, loading, error, makeRequest, clear };\r\n};\r\n\r\nexport default useFetchData;","import { useState, useEffect, useCallback } from 'react';\r\n\r\nconst MIN_ZOOM_POINTS = 10; // Minimum number of data points to display when zoomed in\r\n\r\nconst useChartZoom = (chartData = []) => {\r\n  const [brushDomain, setBrushDomainState] = useState({ startIndex: null, endIndex: null });\r\n\r\n  const resetZoom = useCallback(() => {\r\n    setBrushDomainState({ startIndex: null, endIndex: null });\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    const handleKeyDown = (event) => {\r\n      if (event.key === 'Escape') {\r\n        if (brushDomain.startIndex !== null || brushDomain.endIndex !== null) {\r\n          const isFullRange = brushDomain.startIndex === 0 && \r\n                              brushDomain.endIndex === Math.max(0, chartData.length - 1);\r\n          const isInitialResetState = brushDomain.startIndex === null && brushDomain.endIndex === null;\r\n          if (!isFullRange && !isInitialResetState) {\r\n            resetZoom();\r\n          }\r\n        }\r\n      }\r\n    };\r\n    window.addEventListener('keydown', handleKeyDown);\r\n    return () => window.removeEventListener('keydown', handleKeyDown);\r\n  }, [brushDomain, chartData, resetZoom]);\r\n\r\n  const handleBrushUpdate = useCallback((domain) => {\r\n    if (domain) {\r\n      if (domain.startIndex === 0 && domain.endIndex === chartData.length - 1 && chartData.length > 0) {\r\n        resetZoom();\r\n      } else {\r\n        setBrushDomainState({ startIndex: domain.startIndex, endIndex: domain.endIndex });\r\n      }\r\n    } else {\r\n      resetZoom();\r\n    }\r\n  }, [chartData.length, resetZoom]);\r\n\r\n  const handleWheelZoom = useCallback((event) => {\r\n    if (!chartData || chartData.length === 0 || !event.currentTarget) return;\r\n    event.preventDefault();\r\n\r\n    const { startIndex: currentStartIndexProp, endIndex: currentEndIndexProp } = brushDomain;\r\n    const currentStartIndex = currentStartIndexProp === null ? 0 : currentStartIndexProp;\r\n    const currentEndIndex = currentEndIndexProp === null ? chartData.length - 1 : currentEndIndexProp;\r\n\r\n    const chartRect = event.currentTarget.getBoundingClientRect();\r\n    const mouseXRelative = event.clientX - chartRect.left;\r\n    const mouseRatioInView = Math.max(0, Math.min(1, mouseXRelative / chartRect.width));\r\n    \r\n    const approxDataIndexAtMouse = currentStartIndex + mouseRatioInView * (currentEndIndex - currentStartIndex);\r\n    const zoomFactor = event.deltaY < 0 ? 0.85 : 1.15;\r\n    \r\n    const currentDomainWidth = currentEndIndex - currentStartIndex + 1;\r\n    let newProposedDomainWidth = currentDomainWidth * zoomFactor;\r\n    const effectiveMinPoints = Math.min(MIN_ZOOM_POINTS, chartData.length);\r\n\r\n    if (zoomFactor < 1) { // Zooming In\r\n      if (currentDomainWidth <= effectiveMinPoints) {\r\n        setBrushDomainState({ startIndex: currentStartIndex, endIndex: currentEndIndex });\r\n        return;\r\n      }\r\n      newProposedDomainWidth = Math.max(newProposedDomainWidth, effectiveMinPoints);\r\n    } else { // Zooming Out\r\n      newProposedDomainWidth = Math.min(newProposedDomainWidth, chartData.length);\r\n    }\r\n\r\n    let newStartIndex = Math.round(approxDataIndexAtMouse - mouseRatioInView * newProposedDomainWidth);\r\n    let newEndIndex = Math.round(newStartIndex + newProposedDomainWidth - 1);\r\n\r\n    if (newStartIndex < 0) {\r\n      newStartIndex = 0;\r\n      newEndIndex = Math.min(chartData.length - 1, newStartIndex + Math.round(newProposedDomainWidth) - 1);\r\n    }\r\n    if (newEndIndex >= chartData.length) {\r\n      newEndIndex = chartData.length - 1;\r\n      newStartIndex = Math.max(0, newEndIndex - Math.round(newProposedDomainWidth) + 1);\r\n    }\r\n    if (newStartIndex < 0) newStartIndex = 0;\r\n\r\n    const finalWidth = newEndIndex - newStartIndex + 1;\r\n    if (finalWidth < effectiveMinPoints && chartData.length >= effectiveMinPoints) {\r\n        if (newStartIndex === 0) {\r\n            newEndIndex = Math.min(chartData.length - 1, newStartIndex + effectiveMinPoints - 1);\r\n        } else if (newEndIndex === chartData.length - 1) {\r\n            newStartIndex = Math.max(0, newEndIndex - effectiveMinPoints + 1); \r\n        } else {\r\n            const center = Math.round((newStartIndex + newEndIndex) / 2);\r\n            newStartIndex = Math.max(0, center - Math.floor((effectiveMinPoints -1) / 2));\r\n            newEndIndex = Math.min(chartData.length - 1, newStartIndex + effectiveMinPoints - 1);\r\n            if (newEndIndex === chartData.length - 1) {\r\n               newStartIndex = Math.max(0, newEndIndex - effectiveMinPoints + 1);\r\n            }\r\n        }\r\n    }\r\n    \r\n    if (newStartIndex < 0 || newEndIndex >= chartData.length || newStartIndex > newEndIndex ) {\r\n        console.warn(\"Wheel zoom resulted in invalid domain after correction:\", {newStartIndex, newEndIndex, chartDataLength: chartData.length});\r\n        resetZoom();\r\n        return;\r\n    }\r\n\r\n    if (newStartIndex === 0 && newEndIndex === chartData.length - 1) {\r\n      resetZoom();\r\n    } else {\r\n      setBrushDomainState({ startIndex: newStartIndex, endIndex: newEndIndex });\r\n    }\r\n  }, [chartData, brushDomain, resetZoom]);\r\n\r\n  return { brushDomain, handleBrushUpdate, handleWheelZoom, resetZoom, setBrushDomain: setBrushDomainState };\r\n};\r\n\r\nexport default useChartZoom;","import React from 'react';\r\nimport './DataCard.scss'; // Changed to .scss\r\n\r\nconst DataCard = ({ title, data, type = 'object' }) => {\r\n  if (!data) return null;\r\n\r\n  return (\r\n    <div className=\"data-card\">\r\n      {title && <h4>{title}</h4>}\r\n      {type === 'object' && (\r\n        <ul>\r\n          {Object.entries(data).map(([key, value]) => {\r\n            // Skip null or undefined values gracefully for display\r\n            if (value === null || value === undefined) return null;\r\n            \r\n            let displayValue = String(value);\r\n            if (typeof value === 'number') {\r\n              // Check if it's a float or int for formatting\r\n              displayValue = Number.isInteger(value) ? value.toLocaleString() : parseFloat(value.toFixed(4)).toLocaleString(undefined, {minimumFractionDigits: 2, maximumFractionDigits: 4});\r\n            }\r\n            // Special handling for changePercent which is already a string with '%'\r\n            if (key.toLowerCase().includes('percent') && typeof value === 'string' && value.includes('%')) {\r\n                 displayValue = value;\r\n            }\r\n\r\n\r\n            return (\r\n              <li key={key}>\r\n                <strong>{key.replace(/^[0-9]+\\.\\s*/, '').replace(/_/g, ' ').replace(/\\b\\w/g, l => l.toUpperCase())}:</strong> {/* Improved key formatting */}\r\n                <span>{displayValue}</span>\r\n              </li>\r\n            );\r\n          })}\r\n        </ul>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default DataCard;","import React, { useState, useMemo } from 'react';\r\nimport './DataTable.scss';\r\n\r\nconst DataTable = ({ data, columns, itemsPerPage = 10, title }) => {\r\n  const [currentPage, setCurrentPage] = useState(1);\r\n  const [sortConfig, setSortConfig] = useState({ key: null, direction: 'ascending' });\r\n\r\n  const sortedData = useMemo(() => {\r\n    if (!data) return [];\r\n    let sortableData = [...data];\r\n    if (sortConfig.key !== null) {\r\n      sortableData.sort((a, b) => {\r\n        const valA = a[sortConfig.key];\r\n        const valB = b[sortConfig.key];\r\n\r\n        if (valA === null || valA === undefined) return 1;\r\n        if (valB === null || valB === undefined) return -1;\r\n\r\n        if (valA < valB) {\r\n          return sortConfig.direction === 'ascending' ? -1 : 1;\r\n        }\r\n        if (valA > valB) {\r\n          return sortConfig.direction === 'ascending' ? 1 : -1;\r\n        }\r\n        return 0;\r\n      });\r\n    }\r\n    return sortableData;\r\n  }, [data, sortConfig]);\r\n\r\n  const paginatedData = useMemo(() => {\r\n    const startIndex = (currentPage - 1) * itemsPerPage;\r\n    return sortedData.slice(startIndex, startIndex + itemsPerPage);\r\n  }, [sortedData, currentPage, itemsPerPage]);\r\n\r\n  const totalPages = data ? Math.ceil(data.length / itemsPerPage) : 0;\r\n\r\n  const requestSort = (key) => {\r\n    let direction = 'ascending';\r\n    if (sortConfig.key === key && sortConfig.direction === 'ascending') {\r\n      direction = 'descending';\r\n    }\r\n    setSortConfig({ key, direction });\r\n    setCurrentPage(1);\r\n  };\r\n\r\n  const getSortIndicator = (columnKey) => {\r\n    if (sortConfig.key === columnKey) {\r\n      return sortConfig.direction === 'ascending' ? ' ▲' : ' ▼';\r\n    }\r\n    return '';\r\n  };\r\n\r\n  if (!data || data.length === 0) {\r\n    return <p className=\"no-data-message\">{title ? `${title}: ` : \"\"}No data available.</p>;\r\n  }\r\n\r\n  return (\r\n    <div className=\"data-table-container\">\r\n      {title && <h3>{title}</h3>}\r\n      <table className=\"data-table\">\r\n        <thead>\r\n          <tr>\r\n            {columns.map((col) => (\r\n              <th \r\n                key={col.accessor} \r\n                onClick={() => col.sortable !== false && requestSort(col.accessor)}\r\n                className={col.sortable !== false ? 'sortable' : ''}\r\n              >\r\n                {col.Header}\r\n                {col.sortable !== false && getSortIndicator(col.accessor)}\r\n              </th>\r\n            ))}\r\n          </tr>\r\n        </thead>\r\n        <tbody>\r\n          {paginatedData.map((row, rowIndex) => (\r\n            <tr key={rowIndex}>\r\n              {columns.map((col) => {\r\n                // Get the cell value\r\n                const value = row[col.accessor];\r\n                \r\n                // If a custom Cell renderer is provided, use it\r\n                if (col.Cell) {\r\n                  // Pass the cell props object that react-table would normally pass\r\n                  const cellProps = {\r\n                    value: value,\r\n                    row: { original: row },\r\n                    column: col\r\n                  };\r\n                  return (\r\n                    <td key={`${rowIndex}-${col.accessor}`}>\r\n                      {col.Cell(cellProps)}\r\n                    </td>\r\n                  );\r\n                }\r\n                \r\n                // Default rendering\r\n                return (\r\n                  <td key={`${rowIndex}-${col.accessor}`}>\r\n                    {typeof value === 'number' ? \r\n                      (Number.isInteger(value) ? \r\n                        value.toLocaleString() : \r\n                        parseFloat(value.toFixed(4)).toLocaleString(undefined, \r\n                          {minimumFractionDigits: 2, maximumFractionDigits: 4})\r\n                      ) : \r\n                      (value || '-')}\r\n                  </td>\r\n                );\r\n              })}\r\n            </tr>\r\n          ))}\r\n        </tbody>\r\n      </table>\r\n      {totalPages > 1 && (\r\n        <div className=\"pagination\">\r\n          <button \r\n            onClick={() => setCurrentPage(p => Math.max(1, p - 1))} \r\n            disabled={currentPage === 1}\r\n          >\r\n            Previous\r\n          </button>\r\n          <span>Page {currentPage} of {totalPages}</span>\r\n          <button \r\n            onClick={() => setCurrentPage(p => Math.min(totalPages, p + 1))} \r\n            disabled={currentPage === totalPages}\r\n          >\r\n            Next\r\n          </button>\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default DataTable;","import React from 'react';\r\nimport './Spinner.scss'; // Changed to .scss\r\n\r\nconst LoadingSpinner = () => (\r\n  <div className=\"spinner-overlay\">\r\n    <div className=\"spinner\"></div>\r\n  </div>\r\n);\r\n\r\nexport default LoadingSpinner;","import React from 'react';\r\nimport './ErrorMessage.scss'; // Changed to .scss\r\n\r\nconst ErrorMessage = ({ message }) => (\r\n  <div className=\"error-message\">\r\n    <p>Error: {message}</p>\r\n  </div>\r\n);\r\n\r\nexport default ErrorMessage;","import React from 'react';\r\nimport './InputForm.scss'; // Changed to .scss\r\n\r\nconst InputForm = ({ fields, onSubmit, buttonText = \"Fetch Data\", isLoading }) => {\r\n  const handleSubmit = (event) => {\r\n    event.preventDefault();\r\n    const formData = {};\r\n    fields.forEach(field => {\r\n      formData[field.name] = event.target[field.name].value;\r\n    });\r\n    onSubmit(formData);\r\n  };\r\n\r\n  return (\r\n    <form onSubmit={handleSubmit} className=\"input-form\">\r\n      {fields.map(field => (\r\n        <div key={field.name} className=\"form-group\">\r\n          <label htmlFor={field.name}>{field.label}:</label>\r\n          <input\r\n            type={field.type || \"text\"}\r\n            id={field.name}\r\n            name={field.name}\r\n            defaultValue={field.defaultValue || ''} // Ensure controlled/uncontrolled consistency\r\n            placeholder={field.placeholder || field.label}\r\n            required={field.required !== false}\r\n          />\r\n        </div>\r\n      ))}\r\n      <button type=\"submit\" disabled={isLoading}>\r\n        {isLoading ? 'Fetching...' : buttonText}\r\n      </button>\r\n    </form>\r\n  );\r\n};\r\n\r\nexport default InputForm;","import React, { useRef } from 'react';\r\nimport {\r\n  ResponsiveContainer, LineChart, Line, ComposedChart, Bar, XAxis, YAxis,\r\n  CartesianGrid, Tooltip, Legend, Brush, Cell, Scatter,\r\n} from 'recharts';\r\nimport html2canvas from 'html2canvas';\r\nimport { FaCamera } from \"react-icons/fa6\";\r\n// REMOVE THIS LINE: import { CustomLineChartTooltip, CustomCandlestickTooltip, CandlestickShape } from '../investmentToolsUtils';\r\n\r\nconst ChartDisplay = ({\r\n  chartType,\r\n  displayedChartData,\r\n  chartData,\r\n  brushDomain,\r\n  onBrushUpdate,\r\n  onWheelZoom,\r\n  chartBaseTitle,\r\n  symbol,\r\n  onScreenshot,\r\n  onBuyNow,\r\n  // Accept components as props\r\n  candlestickShapeComponent: CandlestickShape, // Renaming prop to CandlestickShape for internal use\r\n  customLineTooltipComponent: CustomLineChartTooltip, // Renaming prop\r\n  customCandlestickTooltipComponent: CustomCandlestickTooltip, // Renaming prop\r\n}) => {\r\n  const chartContainerRef = useRef(null);\r\n\r\n  // Ensure the components passed as props are valid before rendering\r\n  if (chartType === 'none' || !displayedChartData || displayedChartData.length === 0 ||\r\n      typeof CandlestickShape !== 'function' || \r\n      typeof CustomLineChartTooltip !== 'function' || \r\n      typeof CustomCandlestickTooltip !== 'function') {\r\n    // console.warn(\"ChartDisplay: Missing required props or components\", {chartType, displayedChartData, CandlestickShape, CustomLineChartTooltip, CustomCandlestickTooltip});\r\n    return null;\r\n  }\r\n\r\n  const formatDateTick = (tick) => tick ? new Date(tick).toLocaleDateString(undefined, { month: 'short', day: 'numeric' }) : '';\r\n  const commonXAxisProps = { dataKey: \"date\", tickFormatter: formatDateTick, angle: -45, textAnchor: \"end\", height: 70, interval: \"preserveStartEnd\" };\r\n\r\n  const commonBrushProps = {\r\n    dataKey: \"date\",\r\n    height: 30,\r\n    stroke: \"#8884d8\",\r\n    tickFormatter: formatDateTick,\r\n    children: <LineChart data={chartData}><Line dataKey=\"close\" stroke=\"#8884d8\" dot={false} type=\"monotone\" /></LineChart>,\r\n    onChange: onBrushUpdate,\r\n    startIndex: brushDomain.startIndex !== null ? brushDomain.startIndex : 0,\r\n    endIndex: brushDomain.endIndex !== null ? brushDomain.endIndex : Math.max(0, chartData.length - 1),\r\n    key: `brush-${chartData.length}-${brushDomain.startIndex}-${brushDomain.endIndex}`\r\n  };\r\n\r\n  const handleInternalScreenshot = async () => {\r\n    if (chartContainerRef.current) {\r\n      try {\r\n        const buyButtonOnGraph = chartContainerRef.current.querySelector('.buy-button-on-graph');\r\n        let originalDisplay = '';\r\n        if (buyButtonOnGraph) {\r\n          originalDisplay = buyButtonOnGraph.style.display;\r\n          buyButtonOnGraph.style.display = 'none';\r\n        }\r\n        const canvas = await html2canvas(chartContainerRef.current, { useCORS: true, allowTaint: true });\r\n        if (buyButtonOnGraph) {\r\n          buyButtonOnGraph.style.display = originalDisplay;\r\n        }\r\n        onScreenshot(canvas);\r\n      } catch (error) {\r\n        console.error('Error taking screenshot:', error);\r\n        alert('Could not take screenshot.');\r\n      }\r\n    }\r\n  };\r\n\r\n  const chartContentHeight = chartType === 'candlestick' ? 600 : 500;\r\n\r\n  return (\r\n    <div ref={chartContainerRef} className=\"chart-wrapper\" style={{ marginTop: '20px', width: '100%' }}>\r\n      <div className=\"chart-header\">\r\n        <h3>{`${chartBaseTitle} - ${chartType === 'line' ? 'Line Chart (Close Price)' : 'Candlestick Chart'}`}</h3>\r\n        <div className=\"chart-actions-header\">\r\n            <button onClick={handleInternalScreenshot} className=\"action-button screenshot-button\" title=\"Download Chart\"><FaCamera /></button>\r\n        </div>\r\n        <br />\r\n        <button onClick={onBuyNow} className=\"action-button buy-button-on-graph\">Buy {symbol.toUpperCase()}</button>\r\n      </div>\r\n      <div\r\n        className=\"chart-render-area-container\"\r\n        style={{ position: 'relative', width: '100%', height: chartContentHeight }}\r\n        onWheel={onWheelZoom}\r\n      >\r\n        <div className=\"chart-render-area\" style={{ width: '100%', height: '100%' }}>\r\n          <ResponsiveContainer>\r\n            {chartType === 'line' ? (\r\n              <LineChart data={displayedChartData} margin={{ top: 5, right: 30, left: 20, bottom: 50 }}>\r\n                <CartesianGrid strokeDasharray=\"3 3\" />\r\n                <XAxis {...commonXAxisProps} />\r\n                <YAxis domain={['auto', 'auto']} />\r\n                {/* Use the passed component prop */}\r\n                <Tooltip content={<CustomLineChartTooltip />} /> \r\n                <Legend />\r\n                <Line type=\"monotone\" dataKey=\"close\" stroke=\"#9887FF\" dot={false} name=\"Close Price\" />\r\n                <Brush {...commonBrushProps} />\r\n              </LineChart>\r\n            ) : (\r\n              <ComposedChart data={displayedChartData} margin={{ top: 5, right: 30, left: 20, bottom: 80 }}>\r\n                <CartesianGrid strokeDasharray=\"3 3\" />\r\n                <XAxis {...commonXAxisProps} scale=\"band\" />\r\n                <YAxis yAxisId=\"price\" domain={['auto', 'auto']} label={{ value: 'Stock Price ($)', angle: -90, position: 'insideLeft' }} />\r\n                <YAxis yAxisId=\"volume\" orientation=\"right\" domain={['auto', 'auto']} label={{ value: 'Volume', angle: 90, position: 'insideRight' }} />\r\n                {/* Use the passed component prop */}\r\n                <Tooltip content={<CustomCandlestickTooltip />} /> \r\n                <Legend verticalAlign=\"top\" wrapperStyle={{ paddingBottom: '10px' }} />\r\n                {/* Use the passed component prop */}\r\n                <Scatter yAxisId=\"price\" dataKey=\"close\" name=\"OHLC\" shape={<CandlestickShape />} /> \r\n                <Bar yAxisId=\"volume\" dataKey=\"volume\" name=\"Volume\" barSize={20}>\r\n                  {displayedChartData.map((entry, index) => (\r\n                    <Cell key={`cell-${index}`} fill={entry.close != null && entry.open != null && entry.close >= entry.open ? 'rgba(0, 204, 150, 0.5)' : 'rgba(239, 85, 59, 0.5)'} />\r\n                  ))}\r\n                </Bar>\r\n                <Brush {...commonBrushProps} yAxisId=\"price\" />\r\n              </ComposedChart>\r\n            )}\r\n          </ResponsiveContainer>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ChartDisplay;","import React from 'react';\r\n\r\nconst ChartControls = ({\r\n  isTimeSeriesApi,\r\n  chartDataLength,\r\n  chartType,\r\n  onChartTypeChange,\r\n  brushDomain,\r\n  onResetZoom,\r\n}) => {\r\n  if (!isTimeSeriesApi || chartDataLength === 0) return null;\r\n\r\n  const buttons = [\r\n    { type: 'none', label: 'None' },\r\n    { type: 'line', label: 'Line (Standard)' },\r\n    { type: 'candlestick', label: 'Candlestick (Technical)' },\r\n  ];\r\n\r\n  const isZoomActive = brushDomain.startIndex !== null || brushDomain.endIndex !== null;\r\n  const isNotFullRange = chartDataLength > 0 && (\r\n      brushDomain.startIndex !== 0 ||\r\n      brushDomain.endIndex !== (chartDataLength - 1)\r\n  );\r\n  const showResetButton = isZoomActive && isNotFullRange;\r\n\r\n  return (\r\n    <div className=\"chart-controls\" style={{ margin: '20px 0', textAlign: 'center' }}>\r\n      <h4>Chart Type:</h4>\r\n      {buttons.map(btn => (\r\n        <button\r\n          key={btn.type}\r\n          onClick={() => onChartTypeChange(btn.type)}\r\n          className={`chart-type-button ${chartType === btn.type ? 'active' : ''}`}\r\n          disabled={chartType === btn.type}\r\n          style={{ marginRight: '10px' }}\r\n        >\r\n          {btn.label}\r\n        </button>\r\n      ))}\r\n      {showResetButton && (\r\n        <button\r\n          onClick={onResetZoom}\r\n          className=\"action-button\"\r\n          style={{ marginLeft: '20px' }}\r\n        >\r\n          Reset Zoom\r\n        </button>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ChartControls;","// src/components/shared/BuyStockModal.jsx\r\n\r\nimport React, { useState, useEffect } from 'react';\r\nimport './../Style/InvestmentTools.scss'; // We'll add the modal styles here\r\n\r\nconst BuyStockModal = ({ isOpen, onClose, symbol, currentPrice, onSubmit }) => {\r\n  const [quantity, setQuantity] = useState(1);\r\n  const [totalCost, setTotalCost] = useState(0);\r\n\r\n  // Update total cost whenever quantity or price changes\r\n  useEffect(() => {\r\n    if (currentPrice && quantity > 0) {\r\n      setTotalCost(currentPrice * quantity);\r\n    } else {\r\n      setTotalCost(0);\r\n    }\r\n  }, [quantity, currentPrice]);\r\n\r\n  // Reset quantity when the modal is opened for a new stock\r\n  useEffect(() => {\r\n    if (isOpen) {\r\n      setQuantity(1);\r\n    }\r\n  }, [isOpen]);\r\n\r\n  if (!isOpen) {\r\n    return null;\r\n  }\r\n\r\n  const handleQuantityChange = (e) => {\r\n    const value = parseInt(e.target.value, 10);\r\n    setQuantity(value > 0 ? value : 1);\r\n  };\r\n  \r\n  const handleSubmit = (e) => {\r\n    e.preventDefault();\r\n    if (quantity > 0) {\r\n      onSubmit(quantity);\r\n    }\r\n  };\r\n\r\n  return (\r\n    // The main overlay that covers the screen\r\n    <div className=\"modal-overlay\" onClick={onClose}>\r\n      {/* The modal content itself, stopPropagation prevents closing when clicking inside */}\r\n      <div className=\"modal-content\" onClick={(e) => e.stopPropagation()}>\r\n        <div className=\"modal-header\">\r\n          <h3>Buy Stock: {symbol?.toUpperCase()}</h3>\r\n          <button className=\"modal-close-btn\" onClick={onClose}>×</button>\r\n        </div>\r\n        <form onSubmit={handleSubmit}>\r\n          <div className=\"modal-body\">\r\n            <div className=\"price-info\">\r\n              <span>Current Price:</span>\r\n              <span className=\"price-value\">${currentPrice ? currentPrice.toFixed(2) : 'N/A'}</span>\r\n            </div>\r\n            <div className=\"form-group\">\r\n              <label htmlFor=\"quantity\">Quantity:</label>\r\n              <input\r\n                id=\"quantity\"\r\n                type=\"number\"\r\n                value={quantity}\r\n                onChange={handleQuantityChange}\r\n                min=\"1\"\r\n                autoFocus // Automatically focus the input when modal opens\r\n              />\r\n            </div>\r\n            <div className=\"total-cost-info\">\r\n              <span>Estimated Total:</span>\r\n              <span className=\"total-cost-value\">${totalCost.toFixed(2)}</span>\r\n            </div>\r\n          </div>\r\n          <div className=\"modal-footer\">\r\n            <button type=\"button\" className=\"btn btn-secondary\" onClick={onClose}>\r\n              Cancel\r\n            </button>\r\n            <button type=\"submit\" className=\"btn btn-primary\" disabled={!quantity || quantity <= 0}>\r\n              Confirm Purchase\r\n            </button>\r\n          </div>\r\n        </form>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default BuyStockModal;","import React, { useState, useEffect, useMemo } from 'react';\r\nimport { useNavigate } from 'react-router-dom'; // <-- 1. IMPORT useNavigate\r\nimport {\r\n  ResponsiveContainer, LineChart, Line, ComposedChart, Bar, XAxis, YAxis,\r\n  CartesianGrid, Tooltip, Legend, Brush, Cell, Scatter,\r\n} from 'recharts';\r\nimport html2canvas from 'html2canvas';\r\nimport { FaCamera } from \"react-icons/fa6\";\r\n\r\nimport useFetchData from './hooks/useFetchData';\r\nimport useChartZoom from './hooks/useChartZoom';\r\nimport DataCard from './shared/DataCard';\r\nimport DataTable from './shared/DataTable';\r\nimport LoadingSpinner from './shared/LoadingSpinner';\r\nimport ErrorMessage from './shared/ErrorMessage';\r\nimport InputForm from './shared/InputForm';\r\nimport Sidebar from './Sidebar';\r\nimport ChartDisplay from './shared/ChartDisplay';\r\nimport ChartControls from './shared/ChartControls';\r\nimport BuyStockModal from './shared/BuyStockModal';\r\nimport './Style/InvestmentTools.scss';\r\n\r\nconst baseUrl = process.env.REACT_APP_API_BASE_URL;\r\n\r\n// --- Define Constants directly in this file ---\r\nconst API_OPTIONS = [\r\n  { value: 'globalQuote', label: 'Global Quote' }, { value: 'intraday', label: 'Intraday Data' },\r\n  { value: 'daily', label: 'Daily Data' }, { value: 'dailyAdjusted', label: 'Daily Adjusted Data' },\r\n  { value: 'weekly', label: 'Weekly Data' }, { value: 'weeklyAdjusted', label: 'Weekly Adjusted Data' },\r\n  { value: 'monthly', label: 'Monthly Data' }, { value: 'monthlyAdjusted', label: 'Monthly Adjusted Data' },\r\n];\r\n\r\nconst API_ENDPOINTS = {\r\n    globalQuote: 'quote', intraday: 'intraday', daily: 'daily', dailyAdjusted: 'daily-adjusted',\r\n    weekly: 'weekly', weeklyAdjusted: 'weekly-adjusted', monthly: 'monthly', monthlyAdjusted: 'monthly-adjusted',\r\n};\r\n\r\n// --- Embedded Utility Functions and Components ---\r\nconst formatToLocaleString = (value) => {\r\n  if (value == null || String(value).trim() === \"\") return '-';\r\n  if (typeof value === 'string' && value.includes('-') && (value.length === 10 || value.length === 19)) {\r\n    return value;\r\n  }\r\n  const number = parseFloat(String(value).replace(/,/g, ''));\r\n  return isNaN(number) ? String(value) : number.toLocaleString();\r\n};\r\nconst formatNumberToFixed = (value, digits = 2) => {\r\n  if (value == null || String(value).trim() === \"\") return '-';\r\n  const number = parseFloat(String(value).replace(/,/g, ''));\r\n  return isNaN(number) ? String(value) : number.toFixed(digits);\r\n};\r\nconst CELL_FORMATTERS = {\r\n    'Volume': formatToLocaleString, 'Timestamp': formatToLocaleString, 'Date': formatToLocaleString,\r\n    'Dividend Amt': (val) => formatNumberToFixed(val, 4), 'Split Coeff.': (val) => formatNumberToFixed(val, 1),\r\n    'default': (val) => formatNumberToFixed(val, 2),\r\n};\r\nconst debugCellRenderer = (columnName) => (cellProps) => {\r\n    const valueToFormat = cellProps && typeof cellProps === 'object' && 'value' in cellProps ? cellProps.value : cellProps;\r\n    if (valueToFormat == null) {\r\n        return \"VALUE_UNDEF_OR_NULL\";\r\n    }\r\n    try {\r\n        const formatter = CELL_FORMATTERS[columnName] || CELL_FORMATTERS.default;\r\n        return formatter(valueToFormat);\r\n    } catch (e) {\r\n        console.error(`[DebugCellRenderer - ${columnName}] Error formatting value \"${valueToFormat}\":`, e);\r\n        return \"FORMAT_ERR\";\r\n    }\r\n};\r\nconst CandlestickShape = (props) => {\r\n  const { cx, payload, yAxis, xAxis, index } = props;\r\n  if (!yAxis || !payload || !xAxis || !xAxis.scale || !yAxis.scale) return null;\r\n  const { open: pOpen, high: pHigh, low: pLow, close: pClose } = payload;\r\n  if ([pOpen, pHigh, pLow, pClose].some(val => typeof val !== 'number' || isNaN(val))) return null;\r\n  const yOpenVal = yAxis.scale(pOpen);\r\n  const yHighVal = yAxis.scale(pHigh);\r\n  const yLowVal = yAxis.scale(pLow);\r\n  const yCloseVal = yAxis.scale(pClose);\r\n  const isBullish = pClose >= pOpen;\r\n  const color = isBullish ? '#00CC96' : '#EF553B';\r\n  let bandWidth = 5;\r\n  if (typeof xAxis.bandwidth === 'function') bandWidth = xAxis.bandwidth();\r\n  else if (xAxis.domain && Array.isArray(xAxis.domain) && xAxis.width) bandWidth = xAxis.width / (xAxis.domain.length || 1);\r\n  const candlePixelWidth = Math.max(2, bandWidth * 0.6 || 5);\r\n  return (\r\n    <g key={`candle-${index || cx}`}>\r\n      <line x1={cx} y1={yHighVal} x2={cx} y2={yLowVal} stroke={color} strokeWidth={1} />\r\n      <rect x={cx - candlePixelWidth / 2} y={Math.min(yOpenVal, yCloseVal)} width={candlePixelWidth} height={Math.max(1, Math.abs(yOpenVal - yCloseVal))} fill={color} />\r\n    </g>\r\n  );\r\n};\r\nconst CustomLineChartTooltip = ({ active, payload, label }) => {\r\n  if (active && payload && payload.length) {\r\n    const dataEntry = payload[0].payload;\r\n    return (\r\n      <div className=\"custom-recharts-tooltip\">\r\n        <p className=\"recharts-tooltip-label\">{label ? new Date(label).toLocaleDateString() : ''}</p>\r\n        <ul className=\"recharts-tooltip-item-list\" style={{ listStyleType: 'none', padding: 0, margin: 0 }}>\r\n          {dataEntry.open != null && <li>{`Open: ${formatNumberToFixed(dataEntry.open)}`}</li>}\r\n          {dataEntry.high != null && <li>{`High: ${formatNumberToFixed(dataEntry.high)}`}</li>}\r\n          {dataEntry.low != null && <li>{`Low: ${formatNumberToFixed(dataEntry.low)}`}</li>}\r\n          {dataEntry.close != null && <li>{`Close: ${formatNumberToFixed(dataEntry.close)}`}</li>}\r\n          {dataEntry.volume != null && <li>{`Volume: ${formatToLocaleString(dataEntry.volume)}`}</li>}\r\n        </ul>\r\n      </div>\r\n    );\r\n  }\r\n  return null;\r\n};\r\nconst CustomCandlestickTooltip = ({ active, payload, label }) => {\r\n  if (active && payload && payload.length) {\r\n    const dataEntry = payload.find(p => p.name === 'OHLC')?.payload || payload[0]?.payload;\r\n    if (!dataEntry) return null;\r\n    return (\r\n      <div className=\"custom-recharts-tooltip\">\r\n        <p className=\"recharts-tooltip-label\">{label ? new Date(label).toLocaleDateString() : ''}</p>\r\n        <ul className=\"recharts-tooltip-item-list\" style={{ listStyleType: 'none', padding: 0, margin: 0 }}>\r\n          {dataEntry.open != null && <li>{`Open: ${formatNumberToFixed(dataEntry.open)}`}</li>}\r\n          {dataEntry.high != null && <li>{`High: ${formatNumberToFixed(dataEntry.high)}`}</li>}\r\n          {dataEntry.low != null && <li>{`Low: ${formatNumberToFixed(dataEntry.low)}`}</li>}\r\n          {dataEntry.close != null && <li>{`Close: ${formatNumberToFixed(dataEntry.close)}`}</li>}\r\n          {dataEntry.volume != null && <li>{`Volume: ${formatToLocaleString(dataEntry.volume)}`}</li>}\r\n        </ul>\r\n      </div>\r\n    );\r\n  }\r\n  return null;\r\n};\r\n\r\n\r\nif (!baseUrl) {\r\n  console.error(\"CRITICAL ERROR: REACT_APP_API_BASE_URL is not defined.\");\r\n}\r\n\r\nconst InvestmentTools = () => {\r\n  const navigate = useNavigate(); // <-- 2. INITIALIZE the navigate hook\r\n\r\n  const [isBuyModalOpen, setIsBuyModalOpen] = useState(false);\r\n  const [currentPriceForModal, setCurrentPriceForModal] = useState(null);\r\n  const [authToken] = useState(localStorage.getItem(\"authToken\"));\r\n  const [authChecked, setAuthChecked] = useState(false);\r\n  const [activeApi, setActiveApi] = useState(API_OPTIONS[0].value);\r\n  const [symbol, setSymbol] = useState('AAPL');\r\n  const [intradayInterval, setIntradayInterval] = useState('5min');\r\n  const [timeSeriesOutputSize, setTimeSeriesOutputSize] = useState('compact');\r\n  const [chartType, setChartType] = useState('line');\r\n  const { data, loading, error, makeRequest, clear } = useFetchData(authToken);\r\n  const isTimeSeriesApi = !['globalQuote'].includes(activeApi);\r\n  const chartData = useMemo(() => {\r\n    if (!data?.data || !isTimeSeriesApi || !Array.isArray(data.data) || data.data.length === 0) return [];\r\n    const dateKey = activeApi === 'intraday' ? 'timestamp' : 'date';\r\n    return data.data\r\n      .filter(item => item?.[dateKey] != null)\r\n      .map(d => ({\r\n        date: d[dateKey],\r\n        open: d.open != null ? parseFloat(d.open) : null,\r\n        high: d.high != null ? parseFloat(d.high) : null,\r\n        low: d.low != null ? parseFloat(d.low) : null,\r\n        close: d.close != null ? parseFloat(d.close) : null,\r\n        volume: d.volume != null ? parseInt(d.volume, 10) : null,\r\n      }))\r\n      .sort((a, b) => new Date(a.date) - new Date(b.date));\r\n  }, [data, isTimeSeriesApi, activeApi]);\r\n\r\n  const { brushDomain, handleBrushUpdate, handleWheelZoom, resetZoom, setBrushDomain } = useChartZoom(chartData);\r\n\r\n  useEffect(() => { \r\n    if (chartData.length > 0) { resetZoom(); }\r\n  // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, [chartData]); \r\n\r\n  const displayedChartData = useMemo(() => {\r\n    if (brushDomain.startIndex !== null && brushDomain.endIndex !== null && chartData.length > 0) {\r\n      const start = Math.max(0, brushDomain.startIndex);\r\n      const end = Math.min(chartData.length - 1, brushDomain.endIndex);\r\n      if (start <= end) return chartData.slice(start, end + 1);\r\n    }\r\n    return chartData;\r\n  }, [chartData, brushDomain]);\r\n\r\n  useEffect(() => {\r\n    if (!authToken) console.warn(\"[InvestmentTools] No authentication token found.\");\r\n    setAuthChecked(true);\r\n  }, [authToken]);\r\n\r\n  const handleApiChange = (newApiType) => {\r\n    setActiveApi(newApiType); clear(); setChartType('line');\r\n    setSymbol((newApiType === 'monthly' || newApiType === 'monthlyAdjusted') ? 'IBM' : 'AAPL');\r\n    setIntradayInterval('5min'); setTimeSeriesOutputSize('compact');\r\n    setBrushDomain({ startIndex: null, endIndex: null }); \r\n  };\r\n  const handleSubmit = (formData) => {\r\n    if (!authToken || !baseUrl) { console.error(\"[InvestmentTools] Auth token or Base URL missing.\"); return; }\r\n    setChartType('line'); \r\n    const currentSymbol = formData.symbol?.trim().toUpperCase() || symbol; setSymbol(currentSymbol);\r\n    const apiPrefix = '/api/market'; let path = `/${API_ENDPOINTS[activeApi]}/${currentSymbol}`;\r\n    if (activeApi === 'intraday') {\r\n        const interval = formData.interval?.trim() || intradayInterval; setIntradayInterval(interval); path += `/${interval}`;\r\n    } else if (['daily', 'dailyAdjusted'].includes(activeApi)) {\r\n        const oSize = formData.outputsize?.trim() || timeSeriesOutputSize; setTimeSeriesOutputSize(oSize); path += `/${oSize}`;\r\n    }\r\n    if (!API_ENDPOINTS[activeApi]) { console.error('[InvestmentTools] Unknown API type:', activeApi); return; }\r\n    setBrushDomain({ startIndex: null, endIndex: null }); \r\n    makeRequest(`${baseUrl}${apiPrefix}${path}`);\r\n  };\r\n  const getFormFields = () => {\r\n    const fields = [{ name: 'symbol', label: 'Stock Symbol', defaultValue: symbol, placeholder: 'e.g., AAPL or IBM' }];\r\n    if (activeApi === 'intraday') {\r\n      fields.push({ name: 'interval', label: 'Interval', defaultValue: intradayInterval, placeholder: '1min, 5min, 15min, 30min, 60min' });\r\n    } else if (['daily', 'dailyAdjusted'].includes(activeApi)) {\r\n      fields.push({ name: 'outputsize', label: 'Output Size', defaultValue: timeSeriesOutputSize, placeholder: 'compact or full' });\r\n    }\r\n    return fields;\r\n  };\r\n  const getTableColumns = () => {\r\n    const dateAccessor = activeApi === 'intraday' ? 'timestamp' : 'date';\r\n    const dateHeader = activeApi === 'intraday' ? 'Timestamp' : 'Date';\r\n    const baseCols = [\r\n      { Header: dateHeader, accessor: dateAccessor, Cell: debugCellRenderer(dateHeader) },\r\n      { Header: 'Open', accessor: 'open', Cell: debugCellRenderer('Open') },\r\n      { Header: 'High', accessor: 'high', Cell: debugCellRenderer('High') },\r\n      { Header: 'Low', accessor: 'low', Cell: debugCellRenderer('Low') },\r\n      { Header: 'Close', accessor: 'close', Cell: debugCellRenderer('Close') },\r\n    ];\r\n    const volumeCol = { Header: 'Volume', accessor: 'volume', Cell: debugCellRenderer('Volume') };\r\n    const adjCloseCol = { Header: 'Adjusted Close', accessor: 'adjustedClose', Cell: debugCellRenderer('Adjusted Close') };\r\n    const dividendCol = { Header: 'Dividend Amt', accessor: 'dividendAmount', Cell: debugCellRenderer('Dividend Amt') };\r\n    const splitCol = { Header: 'Split Coeff.', accessor: 'splitCoefficient', Cell: debugCellRenderer('Split Coeff.') };\r\n    if (!isTimeSeriesApi) return []; let columns = [...baseCols];\r\n    if (activeApi.includes('Adjusted')) columns.push(adjCloseCol);\r\n    columns.push(volumeCol);\r\n    if (activeApi.includes('Adjusted')) columns.push(dividendCol);\r\n    if (activeApi === 'dailyAdjusted') columns.push(splitCol);\r\n    return columns;\r\n  };\r\n  const getTableTitle = () => {\r\n    const apiLabel = API_OPTIONS.find(opt => opt.value === activeApi)?.label || 'Data';\r\n    let displayedSym = symbol;\r\n    if (activeApi === 'globalQuote' && data?.symbol) displayedSym = data.symbol;\r\n    else if (data?.metaData?.['2. Symbol']) displayedSym = data.metaData['2. Symbol'];\r\n    let title = `${apiLabel} for ${displayedSym.toUpperCase()}`;\r\n    if (activeApi === 'intraday' && data?.metaData?.['4. Interval']) title += ` (${data.metaData['4. Interval']})`;\r\n    return title;\r\n  };\r\n  const handleOpenBuyModal = () => {\r\n    let price = null;\r\n    const latestDisplayedPoint = displayedChartData?.length > 0 ? displayedChartData[displayedChartData.length - 1] : null;\r\n    if (activeApi === 'globalQuote' && data?.price) price = parseFloat(data.price);\r\n    else if (latestDisplayedPoint && latestDisplayedPoint.close != null) price = parseFloat(latestDisplayedPoint.close);\r\n    else if (chartData?.length > 0) {\r\n      const latestDataPoint = chartData[chartData.length - 1];\r\n      if (latestDataPoint && latestDataPoint.close != null) price = parseFloat(latestDataPoint.close);\r\n    }\r\n    if (price == null) { alert(`Could not determine the current price for ${symbol.toUpperCase()}.`); return; }\r\n    setCurrentPriceForModal(price);\r\n    setIsBuyModalOpen(true);\r\n  };\r\n\r\n  // --- 3. THIS IS THE MODIFIED FUNCTION ---\r\n  const handleConfirmBuy = (quantity) => {\r\n    if (!currentPriceForModal || quantity <= 0) {\r\n        alert(\"Cannot proceed with purchase due to invalid price or quantity.\");\r\n        return;\r\n    }\r\n    const totalCost = quantity * currentPriceForModal;\r\n    const purchaseDetails = {\r\n      symbol: symbol.toUpperCase(),\r\n      quantity,\r\n      price: currentPriceForModal,\r\n      totalCost,\r\n    };\r\n    \r\n    console.log(\"Navigating to payment page with details:\", purchaseDetails);\r\n\r\n    // Use navigate to go to the '/payment' route and pass the data in the state\r\n    navigate('/dashboard/payment', { state: { purchaseDetails } }); // Correct route\r\n  };\r\n\r\n  const handleScreenshotDownload = (canvas) => {\r\n    const image = canvas.toDataURL('image/png');\r\n    const link = document.createElement('a');\r\n    link.href = image;\r\n    const safeSymbol = symbol.replace(/[^a-z0-9]/gi, '_').toLowerCase();\r\n    link.download = `${safeSymbol}_${chartType}_chart_${new Date().toISOString().split('T')[0]}.png`;\r\n    document.body.appendChild(link);\r\n    link.click();\r\n    document.body.removeChild(link);\r\n  };\r\n\r\n  const renderDataContent = () => {\r\n    if (loading) return <LoadingSpinner />;\r\n    if (error) return <ErrorMessage message={error} />;\r\n    if (!data) return <p className=\"no-data-message\">Select API and parameters to fetch data.</p>;\r\n    if (activeApi === 'globalQuote') {\r\n      if (!data || Object.keys(data).length === 0) return <p className=\"no-data-message\">No Global Quote data.</p>;\r\n      const displayData = Object.fromEntries(\r\n        Object.entries({\r\n          \"Symbol\": data.symbol, \"Open\": data.open, \"High\": data.high, \"Low\": data.low,\r\n          \"Price\": data.price, \"Volume\": data.volume, \"Latest Trading Day\": data.latestTradingDay,\r\n          \"Previous Close\": data.previousClose, \"Change\": data.change, \"Change Percent\": data.changePercent\r\n        }).map(([key, value]) => {\r\n          if (key === \"Volume\") return [key, formatToLocaleString(value)];\r\n          if ([\"Latest Trading Day\", \"Symbol\", \"Change Percent\"].includes(key)) return [key, value == null ? '-' : value];\r\n          return [key, formatNumberToFixed(value, 2)];\r\n        })\r\n      );\r\n      return <DataCard title={getTableTitle()} data={displayData} />;\r\n    }\r\n    const tableData = Array.isArray(data.data) ? data.data.filter(item => item != null) : [];\r\n    return (\r\n      <>\r\n        {data.metaData && <DataCard title=\"Metadata\" data={data.metaData} />}\r\n        {isTimeSeriesApi && chartData.length > 0 ? (\r\n          <>\r\n            <ChartControls\r\n              isTimeSeriesApi={isTimeSeriesApi}\r\n              chartDataLength={chartData.length}\r\n              chartType={chartType}\r\n              onChartTypeChange={setChartType}\r\n              brushDomain={brushDomain}\r\n              onResetZoom={resetZoom}\r\n            />\r\n            <ChartDisplay\r\n              chartType={chartType} displayedChartData={displayedChartData} chartData={chartData}\r\n              brushDomain={brushDomain} onBrushUpdate={handleBrushUpdate} onWheelZoom={handleWheelZoom}\r\n              chartBaseTitle={getTableTitle().replace(' for ', ' Chart for ')} symbol={symbol}\r\n              onScreenshot={handleScreenshotDownload} onBuyNow={handleOpenBuyModal}\r\n              candlestickShapeComponent={CandlestickShape}\r\n              customLineTooltipComponent={CustomLineChartTooltip}\r\n              customCandlestickTooltipComponent={CustomCandlestickTooltip}\r\n            />\r\n            <DataTable columns={getTableColumns()} data={tableData} itemsPerPage={15} title={getTableTitle()} />\r\n          </>\r\n        ) : (isTimeSeriesApi && <p className=\"no-data-message\">No time series data available for the selected parameters, or chart type is 'None'.</p>)}\r\n        {!isTimeSeriesApi && !data.data && <p className=\"no-data-message\">No data available for the selected API.</p>}\r\n      </>\r\n    );\r\n  };\r\n\r\n  if (!authChecked) return <LoadingSpinner />;\r\n  if (!authToken && !['/login', '/register'].includes(window.location.pathname)) {\r\n    return (\r\n      <div className=\"dashboard-page investment-tools-page\">\r\n        <Sidebar />\r\n        <div className=\"auth-message-container\" style={{ padding: '20px', textAlign: 'center' }}>\r\n          <h2>Access Denied</h2><ErrorMessage message=\"You need to be logged in to use the Investment Tools.\" />\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div className=\"dashboard-page investment-tools-page\">\r\n      <div className='main-content-investment-tool'>\r\n        <Sidebar />\r\n        <div className=\"tool-container\">\r\n          <h2>Investment Tool</h2>\r\n          <div className=\"api-selector\">\r\n            <select id=\"api-select\" value={activeApi} onChange={(e) => handleApiChange(e.target.value)}>\r\n              {API_OPTIONS.map(option => (<option key={option.value} value={option.value}>{option.label}</option>))}\r\n            </select>\r\n          </div>\r\n          <InputForm\r\n            key={activeApi}\r\n            fields={getFormFields()}\r\n            onSubmit={handleSubmit}\r\n            isLoading={loading}\r\n            buttonText={`Fetch ${API_OPTIONS.find(opt => opt.value === activeApi)?.label || 'Data'}`}\r\n          />\r\n          <div className=\"data-display-area\">\r\n            {renderDataContent()}\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <BuyStockModal\r\n        isOpen={isBuyModalOpen}\r\n        onClose={() => setIsBuyModalOpen(false)}\r\n        symbol={symbol}\r\n        currentPrice={currentPriceForModal}\r\n        onSubmit={handleConfirmBuy}\r\n      />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default InvestmentTools;"],"names":["_ref","onLogout","isMobileNavOpen","setIsMobileNavOpen","useState","navigate","useNavigate","toggleMobileNav","closeMobileNav","useEffect","closeNav","window","addEventListener","removeEventListener","_jsxs","className","children","_jsx","onClick","FaTimes","FaBars","src","logo3","alt","height","width","NavLink","to","end","_ref2","isActive","_ref3","_ref4","_ref5","href","e","preventDefault","state","isManualPayment","purchaseDetails","_ref6","console","error","localStorage","removeItem","location","style","cursor","authToken","data","setData","loading","setLoading","setError","makeRequest","useCallback","async","url","config","arguments","length","undefined","log","headers","response","axios","method","params","status","err","errorMessage","toLowerCase","includes","replace","baseURL","preMatch","match","message","JSON","stringify","request","clear","chartData","brushDomain","setBrushDomainState","startIndex","endIndex","resetZoom","handleKeyDown","event","key","isFullRange","Math","max","isInitialResetState","handleBrushUpdate","domain","handleWheelZoom","currentTarget","currentStartIndexProp","currentEndIndexProp","currentStartIndex","currentEndIndex","chartRect","getBoundingClientRect","mouseXRelative","clientX","left","mouseRatioInView","min","approxDataIndexAtMouse","zoomFactor","deltaY","currentDomainWidth","newProposedDomainWidth","effectiveMinPoints","newStartIndex","round","newEndIndex","center","floor","warn","chartDataLength","setBrushDomain","title","type","Object","entries","map","value","displayValue","String","Number","isInteger","toLocaleString","parseFloat","toFixed","minimumFractionDigits","maximumFractionDigits","l","toUpperCase","columns","itemsPerPage","currentPage","setCurrentPage","sortConfig","setSortConfig","direction","sortedData","useMemo","sortableData","sort","a","b","valA","valB","paginatedData","slice","totalPages","ceil","col","sortable","requestSort","accessor","Header","columnKey","row","rowIndex","Cell","cellProps","original","column","p","disabled","LoadingSpinner","fields","onSubmit","buttonText","isLoading","formData","forEach","field","name","target","htmlFor","label","id","defaultValue","placeholder","required","chartType","displayedChartData","onBrushUpdate","onWheelZoom","chartBaseTitle","symbol","onScreenshot","onBuyNow","candlestickShapeComponent","CandlestickShape","customLineTooltipComponent","CustomLineChartTooltip","customCandlestickTooltipComponent","CustomCandlestickTooltip","chartContainerRef","useRef","formatDateTick","tick","Date","toLocaleDateString","month","day","commonXAxisProps","dataKey","tickFormatter","angle","textAnchor","interval","commonBrushProps","stroke","LineChart","Line","dot","onChange","chartContentHeight","ref","marginTop","current","buyButtonOnGraph","querySelector","originalDisplay","display","canvas","html2canvas","useCORS","allowTaint","alert","FaCamera","position","onWheel","ResponsiveContainer","margin","top","right","bottom","CartesianGrid","strokeDasharray","XAxis","YAxis","Tooltip","content","Legend","Brush","ComposedChart","scale","yAxisId","orientation","verticalAlign","wrapperStyle","paddingBottom","Scatter","shape","Bar","barSize","entry","index","fill","close","open","isTimeSeriesApi","onChartTypeChange","onResetZoom","isZoomActive","isNotFullRange","showResetButton","textAlign","btn","marginRight","marginLeft","isOpen","onClose","currentPrice","quantity","setQuantity","totalCost","setTotalCost","stopPropagation","parseInt","autoFocus","baseUrl","process","API_OPTIONS","API_ENDPOINTS","globalQuote","intraday","daily","dailyAdjusted","weekly","weeklyAdjusted","monthly","monthlyAdjusted","formatToLocaleString","trim","number","isNaN","formatNumberToFixed","digits","CELL_FORMATTERS","val","debugCellRenderer","columnName","valueToFormat","default","props","cx","payload","yAxis","xAxis","pOpen","high","pHigh","low","pLow","pClose","some","yOpenVal","yHighVal","yLowVal","yCloseVal","color","bandWidth","bandwidth","Array","isArray","candlePixelWidth","x1","y1","x2","y2","strokeWidth","x","y","abs","active","dataEntry","listStyleType","padding","volume","_payload$find","_payload$","find","InvestmentTools","_API_OPTIONS$find2","isBuyModalOpen","setIsBuyModalOpen","currentPriceForModal","setCurrentPriceForModal","getItem","authChecked","setAuthChecked","activeApi","setActiveApi","setSymbol","intradayInterval","setIntradayInterval","timeSeriesOutputSize","setTimeSeriesOutputSize","setChartType","useFetchData","dateKey","filter","item","d","date","useChartZoom","start","getTableColumns","dateHeader","baseCols","volumeCol","adjCloseCol","dividendCol","splitCol","push","getTableTitle","_API_OPTIONS$find","_data$metaData","_data$metaData2","apiLabel","opt","displayedSym","metaData","handleOpenBuyModal","price","latestDisplayedPoint","latestDataPoint","handleScreenshotDownload","image","toDataURL","link","document","createElement","safeSymbol","download","toISOString","split","body","appendChild","click","removeChild","pathname","Sidebar","handleApiChange","newApiType","option","InputForm","getFormFields","_formData$symbol","currentSymbol","path","_formData$interval","_formData$outputsize","oSize","outputsize","renderDataContent","ErrorMessage","keys","displayData","fromEntries","latestTradingDay","previousClose","change","changePercent","DataCard","tableData","_Fragment","ChartControls","ChartDisplay","DataTable","BuyStockModal"],"sourceRoot":""}