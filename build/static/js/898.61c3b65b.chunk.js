"use strict";(self.webpackChunkthecapitaltree=self.webpackChunkthecapitaltree||[]).push([[898],{1256:(e,a,s)=>{s.d(a,{A:()=>o});var i=s(5043),t=s(3216),r=s(5475),l=s(7956),d=s(184),n=s(579);const o=e=>{let{onLogout:a}=e;const[s,o]=(0,i.useState)(!1),c=(0,t.Zp)(),h=()=>{o(!s)},m=()=>{s&&o(!1)};return(0,i.useEffect)((()=>{if(s){const e=()=>o(!1);return window.addEventListener("popstate",e),()=>{window.removeEventListener("popstate",e)}}}),[s]),(0,n.jsxs)("div",{className:"dashboard-container-wrapper "+(s?"mobile-sidebar-open":""),children:[(0,n.jsx)("button",{className:"dashboard__sidebar-toggle",onClick:h,"aria-label":"Toggle navigation","aria-expanded":s,children:s?(0,n.jsx)(d.QCr,{}):(0,n.jsx)(d.OXb,{})}),(0,n.jsxs)("aside",{className:"dashboard__sidebar "+(s?"is-open":""),children:[(0,n.jsxs)("div",{className:"dashboard__sidebar-logo",children:[(0,n.jsx)("img",{src:l,alt:"logo",height:"50px",width:"50px"}),(0,n.jsx)("h2",{className:"dashboard__sidebar-title",children:"Dashboard"})]}),(0,n.jsxs)("ul",{className:"dashboard__sidebar-menu",children:[(0,n.jsx)("li",{className:"dashboard__sidebar-menu-item",children:(0,n.jsx)(r.k2,{to:"/dashboard",end:!0,onClick:m,className:e=>{let{isActive:a}=e;return a?"dashboard__sidebar-menu-item--active":""},children:"Dashboard"})}),(0,n.jsx)("li",{className:"dashboard__sidebar-menu-item",children:(0,n.jsx)(r.k2,{to:"/dashboard/investmenttools",onClick:m,className:e=>{let{isActive:a}=e;return a?"dashboard__sidebar-menu-item--active":""},children:"Investment Tool"})}),(0,n.jsx)("li",{className:"dashboard__sidebar-menu-item",children:(0,n.jsx)(r.k2,{to:"/dashboard/marketguides",onClick:m,className:e=>{let{isActive:a}=e;return a?"dashboard__sidebar-menu-item--active":""},children:"Market Guides"})}),(0,n.jsx)("li",{className:"dashboard__sidebar-menu-item",children:(0,n.jsx)(r.k2,{to:"/dashboard/profile",onClick:m,className:e=>{let{isActive:a}=e;return a?"dashboard__sidebar-menu-item--active":""},children:"Profile"})}),(0,n.jsx)("li",{className:"dashboard__sidebar-menu-item",children:(0,n.jsx)("a",{href:"#",onClick:e=>{e.preventDefault(),m(),c("/dashboard/payment",{state:{isManualPayment:!0,purchaseDetails:null}})},className:"dashboard__sidebar-menu-link",children:"Payment"})}),(0,n.jsx)("li",{className:"dashboard__sidebar-menu-item",children:(0,n.jsx)(r.k2,{to:"/dashboard/withdrawal",onClick:m,className:e=>{let{isActive:a}=e;return a?"dashboard__sidebar-menu-item--active":""},children:"Withdrawal"})}),(0,n.jsx)("li",{className:"dashboard__sidebar-signout",onClick:()=>{"function"===typeof a?a():(console.error("Sidebar: onLogout prop is missing or not a function!"),localStorage.removeItem("authToken"),localStorage.removeItem("userRole"),localStorage.removeItem("userData"),window.location.href="/login"),m()},style:{cursor:"pointer"},children:"Sign Out"})]})]}),s&&(0,n.jsx)("div",{className:"dashboard__sidebar-overlay",onClick:h})]})}},4898:(e,a,s)=>{s.r(a),s.d(a,{default:()=>o});var i=s(5043),t=s(5475),r=s(1256),l=s(6213),d=s(579);const n=(e,a)=>{if(!e)return"";const s=(new DOMParser).parseFromString(e,"text/html").body.textContent||"";if(s.length<=a)return s;const i=s.substr(0,a);return i.substr(0,Math.min(i.length,i.lastIndexOf(" ")))+"..."},o=()=>{const[e,a]=(0,i.useState)([]),[s,o]=(0,i.useState)(!0),[c,h]=(0,i.useState)(null),m="http://43.204.120.102:3308",b=(0,i.useCallback)((async()=>{o(!0),h(null);try{const e=await l.A.get(`${m}/api/blogs`);a(e.data)}catch(i){var e,s;console.error("Error fetching public blog data:",i),h("Failed to load articles. "+((null===(e=i.response)||void 0===e||null===(s=e.data)||void 0===s?void 0:s.message)||i.message))}finally{o(!1)}}),[m]);return(0,i.useEffect)((()=>{b()}),[b]),(0,d.jsxs)("div",{className:"dashboard-marketguides",children:[(0,d.jsx)(r.A,{}),(0,d.jsxs)("div",{className:"main-content-MarketGuides",children:[(0,d.jsx)("div",{}),(0,d.jsx)("main",{className:"main-content-blog",children:(0,d.jsxs)("section",{className:"blog-section",children:[(0,d.jsx)("h1",{className:"main-heading-blog",children:"Blog & Insights"}),(0,d.jsx)("p",{className:"intro-text",children:"Stay updated with expert market analysis, investment strategies, and financial insights."}),(0,d.jsxs)("div",{className:"hero-blog",children:[(0,d.jsx)("h3",{children:"Latest Articles:"}),s&&(0,d.jsx)("p",{className:"loading-text",children:"Loading articles..."}),c&&(0,d.jsx)("p",{className:"error-text",children:c}),!s&&!c&&0===e.length&&(0,d.jsx)("p",{className:"no-articles-text",children:"No articles found at the moment. Check back soon!"}),!s&&!c&&e.length>0&&(0,d.jsx)("div",{className:"blog-grid",children:e.map((e=>(0,d.jsxs)("div",{className:"blog-card",children:[e.imageUrl&&(0,d.jsx)(t.N_,{to:`/blog/${e.id||e._id}`,className:"blog-card-image-link",children:(0,d.jsx)("img",{src:e.imageUrl,alt:e.title,className:"blog-card-image"})}),(0,d.jsxs)("div",{className:"blog-card-content",children:[(0,d.jsx)("h4",{className:"blog-card-title",children:(0,d.jsx)(t.N_,{to:`/blog/${e.id||e._id}`,children:e.title})}),(0,d.jsxs)("p",{className:"blog-card-author-date",children:["By ",e.author||"TheCapitalTree Team",e.createdAt&&` on ${new Date(e.createdAt).toLocaleDateString()}`]}),(0,d.jsx)("p",{className:"blog-card-excerpt",children:n(e.content,120)}),(0,d.jsxs)("div",{className:"blog-card-meta",children:["undefined"!==typeof e.views&&(0,d.jsxs)("span",{children:[e.views," Views"]}),"undefined"!==typeof e.likes&&(0,d.jsxs)("span",{children:[e.likes," Likes"]})]}),(0,d.jsx)(t.N_,{to:`/blog/${e.id||e._id}`,className:"read-more-link",children:"Read More \u2192"})]})]},e.id||e._id)))}),(0,d.jsx)("p",{className:"footer-note",children:"\ud83d\udccc Explore more and take control of your financial future."})]})]})})]})]})}},7956:(e,a,s)=>{e.exports=s.p+"static/media/logo3.53e806f77f8987aa2fc1.png"}}]);
//# sourceMappingURL=898.61c3b65b.chunk.js.map