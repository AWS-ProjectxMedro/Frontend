{"version":3,"file":"static/js/231.073f1457.chunk.js","mappings":"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","sources":["Component/dashboard/Sidebar.jsx","Component/dashboard/KYCVerification.jsx","Component/dashboard/Profile.jsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { NavLink, useNavigate } from 'react-router-dom';\r\nimport logo3 from \"../../assets/image/logo3.png\";\r\nimport \"../../assets/styles/Sidebar.scss\";\r\nimport { FaBars, FaTimes } from 'react-icons/fa';\r\n\r\nconst Sidebar = ({ onLogout }) => {\r\n  const [isMobileNavOpen, setIsMobileNavOpen] = useState(false);\r\n  const navigate = useNavigate();\r\n\r\n  // Fixed logout handler\r\n  const handleSignOut = () => {\r\n    if (typeof onLogout === 'function') {\r\n      onLogout(); // This will trigger App.jsx to clear auth and redirect to login\r\n    } else {\r\n      console.error(\"Sidebar: onLogout prop is missing or not a function!\");\r\n      // Fallback - clear localStorage and force reload\r\n      localStorage.removeItem(\"authToken\");\r\n      localStorage.removeItem(\"userRole\");\r\n      localStorage.removeItem(\"userData\");\r\n      window.location.href = '/login';\r\n    }\r\n  };\r\n\r\n  // Handle payment navigation with manual payment option\r\n  const handlePaymentNavigation = (e) => {\r\n    e.preventDefault(); // Prevent default NavLink behavior\r\n    closeMobileNav();\r\n    \r\n    // Navigate to payment with a flag indicating it's a manual payment\r\n    navigate('/dashboard/payment', { \r\n      state: { \r\n        isManualPayment: true,\r\n        purchaseDetails: null // No specific purchase details for manual payment\r\n      } \r\n    });\r\n  };\r\n\r\n  const toggleMobileNav = () => {\r\n    setIsMobileNavOpen(!isMobileNavOpen);\r\n  };\r\n\r\n  const closeMobileNav = () => {\r\n    if (isMobileNavOpen) {\r\n      setIsMobileNavOpen(false);\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    if (isMobileNavOpen) {\r\n      const closeNav = () => setIsMobileNavOpen(false);\r\n      window.addEventListener('popstate', closeNav);\r\n      return () => {\r\n        window.removeEventListener('popstate', closeNav);\r\n      };\r\n    }\r\n  }, [isMobileNavOpen]);\r\n\r\n  return (\r\n    <div className={`dashboard-container-wrapper ${isMobileNavOpen ? 'mobile-sidebar-open' : ''}`}>\r\n      <button\r\n        className=\"dashboard__sidebar-toggle\"\r\n        onClick={toggleMobileNav}\r\n        aria-label=\"Toggle navigation\"\r\n        aria-expanded={isMobileNavOpen}\r\n      >\r\n        {isMobileNavOpen ? <FaTimes /> : <FaBars />}\r\n      </button>\r\n\r\n      <aside className={`dashboard__sidebar ${isMobileNavOpen ? 'is-open' : ''}`}>\r\n        <div className=\"dashboard__sidebar-logo\">\r\n          <img src={logo3} alt=\"logo\" height=\"50px\" width=\"50px\" />\r\n          <h2 className=\"dashboard__sidebar-title\">Dashboard</h2>\r\n        </div>\r\n        <ul className=\"dashboard__sidebar-menu\">\r\n          <li className=\"dashboard__sidebar-menu-item\">\r\n            <NavLink \r\n              to=\"/dashboard\" \r\n              end \r\n              onClick={closeMobileNav} \r\n              className={({ isActive }) => isActive ? \"dashboard__sidebar-menu-item--active\" : \"\"}\r\n            >\r\n              Dashboard\r\n            </NavLink>\r\n          </li>\r\n          <li className=\"dashboard__sidebar-menu-item\">\r\n            <NavLink \r\n              to=\"/dashboard/investmenttools\" \r\n              onClick={closeMobileNav} \r\n              className={({ isActive }) => isActive ? \"dashboard__sidebar-menu-item--active\" : \"\"}\r\n            >\r\n              Investment Tool\r\n            </NavLink>\r\n          </li>\r\n          <li className=\"dashboard__sidebar-menu-item\">\r\n            <NavLink \r\n              to=\"/dashboard/marketguides\" \r\n              onClick={closeMobileNav} \r\n              className={({ isActive }) => isActive ? \"dashboard__sidebar-menu-item--active\" : \"\"}\r\n            >\r\n              Market Guides\r\n            </NavLink>\r\n          </li>\r\n          <li className=\"dashboard__sidebar-menu-item\">\r\n            <NavLink \r\n              to=\"/dashboard/profile\" \r\n              onClick={closeMobileNav} \r\n              className={({ isActive }) => isActive ? \"dashboard__sidebar-menu-item--active\" : \"\"}\r\n            >\r\n              Profile\r\n            </NavLink>\r\n          </li>\r\n          <li className=\"dashboard__sidebar-menu-item\">\r\n            {/* Modified Payment Link */}\r\n            <a \r\n              href=\"#\"\r\n              onClick={handlePaymentNavigation}\r\n              className=\"dashboard__sidebar-menu-link\"\r\n            >\r\n              Payment\r\n            </a>\r\n          </li>\r\n          <li className=\"dashboard__sidebar-menu-item\">\r\n            <NavLink \r\n              to=\"/dashboard/withdrawal\" \r\n              onClick={closeMobileNav} \r\n              className={({ isActive }) => isActive ? \"dashboard__sidebar-menu-item--active\" : \"\"}\r\n            >\r\n              Withdrawal\r\n            </NavLink>\r\n          </li>\r\n          <li \r\n            className=\"dashboard__sidebar-signout\" \r\n            onClick={() => { \r\n              handleSignOut(); \r\n              closeMobileNav(); \r\n            }} \r\n            style={{ cursor: 'pointer' }}\r\n          >\r\n            Sign Out\r\n          </li>\r\n        </ul>\r\n      </aside>\r\n      {isMobileNavOpen && <div className=\"dashboard__sidebar-overlay\" onClick={toggleMobileNav}></div>}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Sidebar;","// src/components/profile/KYCVerification.jsx\r\n\r\nimport React, { useState, useEffect } from 'react';\r\nimport axios from 'axios';\r\nimport { toast } from 'react-toastify';\r\nimport './Style/Profile.scss'; // Assuming KYC styles can reuse Profile's SCSS\r\n\r\n// Get the base URL from environment variables\r\nconst API_BASE_URL = process.env.REACT_APP_USER_SERVICE_API_BASE_URL ;\r\n\r\nconst KYCVerification = ({ initialData, onKycUpdateSuccess }) => {\r\n  // State for text inputs (Aadhaar/PAN numbers)\r\n  const [kycData, setKycData] = useState({\r\n    aadhaarNumber: '',\r\n    panNumber: '',\r\n  });\r\n\r\n  // State for file inputs\r\n  const [files, setFiles] = useState({\r\n    aadhaarDoc: null,\r\n    panDoc: null,\r\n  });\r\n\r\n  const [isSubmitting, setIsSubmitting] = useState(false);\r\n\r\n  // Pre-fill the form with existing user data when the component loads\r\n  useEffect(() => {\r\n    if (initialData) {\r\n      setKycData({\r\n        aadhaarNumber: initialData.aadhaarNumber || '',\r\n        panNumber: initialData.panNumber || '',\r\n      });\r\n    }\r\n  }, [initialData]);\r\n\r\n  const handleInputChange = (e) => {\r\n    const { name, value } = e.target;\r\n    setKycData(prev => ({ ...prev, [name]: value }));\r\n  };\r\n\r\n  const handleFileChange = (e) => {\r\n    const { name, files: selectedFiles } = e.target;\r\n    if (selectedFiles.length > 0) {\r\n      setFiles(prev => ({ ...prev, [name]: selectedFiles[0] }));\r\n    }\r\n  };\r\n\r\n  const handleSubmit = async (e) => {\r\n    e.preventDefault();\r\n    if (!kycData.aadhaarNumber || !kycData.panNumber || !files.aadhaarDoc || !files.panDoc) {\r\n      toast.warn(\"Please fill all fields and upload both documents.\");\r\n      return;\r\n    }\r\n\r\n    setIsSubmitting(true);\r\n    const token = localStorage.getItem('authToken');\r\n\r\n    try {\r\n      // --- Step 1: Upload Documents ---\r\n      const formData = new FormData();\r\n      formData.append('aadhaarDoc', files.aadhaarDoc);\r\n      formData.append('panDoc', files.panDoc);\r\n\r\n      const uploadUrl = `${API_BASE_URL}/api/users/profile/upload`;\r\n      const uploadResponse = await axios.post(uploadUrl, formData, {\r\n        headers: {\r\n          'Content-Type': 'multipart/form-data',\r\n          Authorization: `Bearer ${token}`,\r\n        },\r\n      });\r\n\r\n      const { aadhaarDocUrl, panDocUrl } = uploadResponse.data;\r\n      \r\n      if (!aadhaarDocUrl || !panDocUrl) {\r\n          throw new Error(\"File upload did not return the expected URLs.\");\r\n      }\r\n\r\n      // --- Step 2: Update Profile with URLs and Numbers ---\r\n      const updatePayload = {\r\n        ...kycData, // aadhaarNumber, panNumber\r\n        aadhaarDocUrl,\r\n        panDocUrl,\r\n      };\r\n\r\n      const profileUrl = `${API_BASE_URL}/api/users/profile`;\r\n      await axios.put(profileUrl, updatePayload, {\r\n        headers: { Authorization: `Bearer ${token}` },\r\n      });\r\n\r\n      toast.success(\"KYC details submitted successfully for verification!\");\r\n      if (onKycUpdateSuccess) {\r\n        onKycUpdateSuccess(); // Notify parent component to refetch data\r\n      }\r\n\r\n    } catch (error) {\r\n      console.error(\"KYC Submission Error:\", error);\r\n      toast.error(error.response?.data?.message || \"An error occurred during KYC submission.\");\r\n    } finally {\r\n      setIsSubmitting(false);\r\n    }\r\n  };\r\n\r\n  // If KYC is already completed, show a success message\r\n  if (initialData.kycCompleted) {\r\n    return (\r\n      <section className=\"kyc-verification card\">\r\n        <h3>KYC Verification</h3>\r\n        <div className=\"kyc-verified-status\">\r\n          <span role=\"img\" aria-label=\"check-mark\">âœ…</span>\r\n          Your KYC is verified. No further action is needed.\r\n        </div>\r\n      </section>\r\n    );\r\n  }\r\n\r\n  // Otherwise, show the form\r\n  return (\r\n    <section className=\"kyc-verification card\">\r\n      <h3>KYC Verification</h3>\r\n      <p>Please provide your Aadhaar and PAN details for verification.</p>\r\n      \r\n      <form className=\"profile-form\" onSubmit={handleSubmit}>\r\n        <div className=\"form-group\">\r\n          <label htmlFor=\"aadhaarNumber\">Aadhaar Number</label>\r\n          <input\r\n            type=\"text\"\r\n            id=\"aadhaarNumber\"\r\n            name=\"aadhaarNumber\"\r\n            placeholder=\"Enter 12-digit Aadhaar Number\"\r\n            value={kycData.aadhaarNumber}\r\n            onChange={handleInputChange}\r\n            required\r\n          />\r\n        </div>\r\n\r\n        <div className=\"form-group\">\r\n          <label htmlFor=\"aadhaarDoc\">Upload Aadhaar Document (PDF, JPG, PNG)</label>\r\n          <input\r\n            type=\"file\"\r\n            id=\"aadhaarDoc\"\r\n            name=\"aadhaarDoc\"\r\n            onChange={handleFileChange}\r\n            accept=\".pdf,.jpg,.jpeg,.png\"\r\n            required\r\n          />\r\n          {files.aadhaarDoc && <span className=\"file-name\">Selected: {files.aadhaarDoc.name}</span>}\r\n          {initialData.aadhaarDocUrl && !files.aadhaarDoc && <span className=\"file-name\">Previously uploaded. <a href={initialData.aadhaarDocUrl} target=\"_blank\" rel=\"noopener noreferrer\">View</a></span>}\r\n        </div>\r\n\r\n        <div className=\"form-group\">\r\n          <label htmlFor=\"panNumber\">PAN Number</label>\r\n          <input\r\n            type=\"text\"\r\n            id=\"panNumber\"\r\n            name=\"panNumber\"\r\n            placeholder=\"Enter 10-character PAN\"\r\n            value={kycData.panNumber}\r\n            onChange={handleInputChange}\r\n            required\r\n          />\r\n        </div>\r\n\r\n        <div className=\"form-group\">\r\n          <label htmlFor=\"panDoc\">Upload PAN Document (PDF, JPG, PNG)</label>\r\n          <input\r\n            type=\"file\"\r\n            id=\"panDoc\"\r\n            name=\"panDoc\"\r\n            onChange={handleFileChange}\r\n            accept=\".pdf,.jpg,.jpeg,.png\"\r\n            required\r\n          />\r\n          {files.panDoc && <span className=\"file-name\">Selected: {files.panDoc.name}</span>}\r\n          {initialData.panDocUrl && !files.panDoc && <span className=\"file-name\">Previously uploaded. <a href={initialData.panDocUrl} target=\"_blank\" rel=\"noopener noreferrer\">View</a></span>}\r\n        </div>\r\n\r\n        <button type=\"submit\" className=\"btn-primary\" disabled={isSubmitting}>\r\n          {isSubmitting ? \"Submitting KYC...\" : \"Submit for Verification\"}\r\n        </button>\r\n      </form>\r\n    </section>\r\n  );\r\n};\r\n\r\nexport default KYCVerification;","// src/components/profile/Profile.jsx\r\n\r\nimport React, { useState, useEffect, useCallback } from 'react';\r\nimport Sidebar from \"../dashboard/Sidebar\";\r\nimport \"./Style/Profile.scss\"; \r\nimport { FaRegBell, FaSearch } from 'react-icons/fa';\r\nimport defaultProfileImage from \"../../assets/image/logo4.png\";\r\nimport { ToastContainer, toast } from 'react-toastify';\r\nimport 'react-toastify/dist/ReactToastify.css';\r\nimport axios from 'axios';\r\nimport KYCVerification from './KYCVerification'; // <-- Import the new component\r\n\r\n\r\n// Use the explicit IP or your env variable\r\nconst API_BASE_URL = process.env.REACT_APP_USER_SERVICE_API_BASE_URL ;\r\n\r\nconst Profile = () => {\r\n  // 1. Expanded State to include all user fields from the backend\r\n  const [profileData, setProfileData] = useState({\r\n    firstName: '',\r\n    lastName: '',\r\n    email: '',\r\n    dob: '',\r\n    address: '',\r\n    city: '',\r\n    country: '',\r\n    profilePictureUrl: defaultProfileImage,\r\n    // Add KYC fields to the state\r\n    aadhaarNumber: '',\r\n    panNumber: '',\r\n    aadhaarDocUrl: '',\r\n    panDocUrl: '',\r\n    kycCompleted: false,\r\n  });\r\n\r\n  const [isLoading, setIsLoading] = useState(true);\r\n  const [isSubmitting, setIsSubmitting] = useState(false);\r\n\r\n  // 2. Fetch profile data (now wrapped in useCallback for stability)\r\n  const fetchProfileData = useCallback(async () => {\r\n    const token = localStorage.getItem('authToken');\r\n    if (!token) {\r\n      toast.error(\"Authentication token not found. Please log in again.\");\r\n      setIsLoading(false);\r\n      return;\r\n    }\r\n    \r\n    setIsLoading(true); // Set loading true when refetching\r\n    try {\r\n      const profileUrl = `${API_BASE_URL}/api/users/profile`;\r\n      const response = await axios.get(profileUrl, {\r\n        headers: { Authorization: `Bearer ${token}` }\r\n      });\r\n\r\n      const user = response.data;\r\n      console.log(\"Profile.jsx: Fetched user data from API:\", user);\r\n      \r\n      // Update state with all fetched data\r\n      setProfileData({\r\n        ...user, // This will map all fields like firstName, kycCompleted, etc.\r\n        dob: user.dob ? new Date(user.dob).toISOString().split('T')[0] : '', \r\n        profilePictureUrl: user.profilePictureUrl || defaultProfileImage,\r\n      });\r\n\r\n      localStorage.setItem('userData', JSON.stringify(user));\r\n    } catch (error) {\r\n      console.error(\"Profile.jsx: Error fetching profile data:\", error);\r\n      toast.error(error.response?.data?.message || \"Could not load your profile.\");\r\n    } finally {\r\n      setIsLoading(false);\r\n    }\r\n  }, []); // useCallback dependency array\r\n\r\n  useEffect(() => {\r\n    fetchProfileData();\r\n  }, [fetchProfileData]); // Effect runs when component mounts and when fetchProfileData changes (which it won't)\r\n\r\n  const handleInputChange = (e) => {\r\n    const { name, value } = e.target;\r\n    setProfileData(prevData => ({ ...prevData, [name]: value }));\r\n  };\r\n\r\n  // 3. Handle form submission for basic profile info\r\n  const handleFormSubmit = async (e) => {\r\n    e.preventDefault();\r\n    setIsSubmitting(true);\r\n    const token = localStorage.getItem('authToken');\r\n    if (!token) {\r\n      toast.error(\"Authentication token expired. Please log in again.\");\r\n      setIsSubmitting(false);\r\n      return;\r\n    }\r\n\r\n    try {\r\n      // Payload for basic info update\r\n      const updatePayload = {\r\n        firstName: profileData.firstName,\r\n        lastName: profileData.lastName,\r\n        dob: profileData.dob,\r\n        address: profileData.address,\r\n        city: profileData.city,\r\n        country: profileData.country,\r\n      };\r\n\r\n      const profileUrl = `${API_BASE_URL}/api/users/profile`;\r\n      const response = await axios.put(profileUrl, updatePayload, {\r\n        headers: { Authorization: `Bearer ${token}` }\r\n      });\r\n\r\n      toast.success(\"Profile updated successfully!\");\r\n      \r\n      const updatedUser = response.data.user;\r\n      localStorage.setItem('userData', JSON.stringify(updatedUser));\r\n      setProfileData(prev => ({\r\n        ...prev, \r\n        ...updatedUser,\r\n        dob: updatedUser.dob ? new Date(updatedUser.dob).toISOString().split('T')[0] : '',\r\n      }));\r\n      \r\n    } catch (error) {\r\n      console.error(\"Profile.jsx: Error updating profile:\", error);\r\n      toast.error(error.response?.data?.message || \"Failed to update profile.\");\r\n    } finally {\r\n      setIsSubmitting(false);\r\n    }\r\n  };\r\n\r\n  const handleChangeProfilePicture = () => toast.info(\"Feature coming soon!\");\r\n  const handleDeleteAccount = () => toast.warn(\"Please contact support to delete your account.\");\r\n\r\n  if (isLoading && !profileData.email) { // Show full-page loader only on initial load\r\n    return (\r\n      <div className=\"dashboard-profile\">\r\n        <Sidebar />\r\n        <main className=\"main-content-profile\">\r\n          <p style={{ textAlign: 'center', marginTop: '50px', fontSize: '1.2rem' }}>Loading Your Profile...</p>\r\n        </main>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div className=\"dashboard-profile\">\r\n      <Sidebar />\r\n      <main className=\"main-content-profile\">\r\n        {/* User Profile Section */}\r\n        <section className=\"user-profile card\">\r\n          {/* ... (Your existing profile form JSX is fine) ... */}\r\n          <h3>User Profile Setting</h3>\r\n          \r\n          <form className=\"profile-form\" onSubmit={handleFormSubmit}>\r\n            {/* Form rows for first name, last name, email etc. */}\r\n             <div className=\"form-row\">\r\n              <div className=\"form-group\">\r\n                <label htmlFor=\"firstName\">First Name</label>\r\n                <input type=\"text\" id=\"firstName\" name=\"firstName\" placeholder=\"First Name\" value={profileData.firstName} onChange={handleInputChange} />\r\n              </div>\r\n              <div className=\"form-group\">\r\n                <label htmlFor=\"lastName\">Last Name</label>\r\n                <input type=\"text\" id=\"lastName\" name=\"lastName\" placeholder=\"Last Name\" value={profileData.lastName} onChange={handleInputChange} />\r\n              </div>\r\n            </div>\r\n\r\n            <div className=\"form-group\">\r\n              <label htmlFor=\"profileEmail\">Email Address</label>\r\n              <input type=\"email\" id=\"profileEmail\" name=\"email\" placeholder=\"Email Address\" value={profileData.email} readOnly  />\r\n            </div>\r\n            \r\n            <div className=\"form-group\">\r\n              <label htmlFor=\"dob\">Date of Birth</label>\r\n              <input type=\"date\" id=\"dob\" name=\"dob\" value={profileData.dob} onChange={handleInputChange} />\r\n            </div>\r\n\r\n            <div className=\"form-group\">\r\n              <label htmlFor=\"address\">Address</label>\r\n              <input type=\"text\" id=\"address\" name=\"address\" placeholder=\"Your Street Address\" value={profileData.address} onChange={handleInputChange} />\r\n            </div>\r\n            \r\n            <div className=\"form-row\">\r\n              <div className=\"form-group\">\r\n                <label htmlFor=\"city\">City</label>\r\n                <input type=\"text\" id=\"city\" name=\"city\" placeholder=\"City\" value={profileData.city} onChange={handleInputChange} />\r\n              </div>\r\n              <div className=\"form-group\">\r\n                <label htmlFor=\"country\">Country</label>\r\n                <input type=\"text\" id=\"country\" name=\"country\" placeholder=\"Country\" value={profileData.country} onChange={handleInputChange} />\r\n              </div>\r\n            </div>\r\n            <button type=\"submit\" className=\"btn-primary\" disabled={isSubmitting}>\r\n              {isSubmitting ? \"Saving...\" : \"Save Changes\"}\r\n            </button>\r\n          </form>\r\n        </section>\r\n        \r\n        {/* ----- KYC Verification Section ----- */}\r\n        <KYCVerification \r\n          initialData={profileData} \r\n          onKycUpdateSuccess={fetchProfileData} // Pass the fetch function as a callback\r\n        />\r\n\r\n      </main>\r\n      <ToastContainer position=\"top-right\" autoClose={4000} hideProgressBar={false} />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Profile;"],"names":["_ref","onLogout","isMobileNavOpen","setIsMobileNavOpen","useState","navigate","useNavigate","toggleMobileNav","closeMobileNav","useEffect","closeNav","window","addEventListener","removeEventListener","_jsxs","className","children","_jsx","onClick","FaTimes","FaBars","src","logo3","alt","height","width","NavLink","to","end","_ref2","isActive","_ref3","_ref4","_ref5","href","e","preventDefault","state","isManualPayment","purchaseDetails","_ref6","console","error","localStorage","removeItem","location","style","cursor","API_BASE_URL","process","initialData","onKycUpdateSuccess","kycData","setKycData","aadhaarNumber","panNumber","files","setFiles","aadhaarDoc","panDoc","isSubmitting","setIsSubmitting","handleInputChange","name","value","target","prev","handleFileChange","selectedFiles","length","kycCompleted","role","onSubmit","async","toast","warn","token","getItem","formData","FormData","append","uploadUrl","uploadResponse","axios","post","headers","Authorization","aadhaarDocUrl","panDocUrl","data","Error","updatePayload","profileUrl","put","success","_error$response","_error$response$data","response","message","htmlFor","type","id","placeholder","onChange","required","accept","rel","disabled","Profile","profileData","setProfileData","firstName","lastName","email","dob","address","city","country","profilePictureUrl","defaultProfileImage","isLoading","setIsLoading","fetchProfileData","useCallback","user","get","log","Date","toISOString","split","setItem","JSON","stringify","prevData","Sidebar","textAlign","marginTop","fontSize","updatedUser","_error$response2","_error$response2$data","readOnly","KYCVerification","ToastContainer","position","autoClose","hideProgressBar"],"sourceRoot":""}